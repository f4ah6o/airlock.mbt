(function(it,pt){typeof exports=="object"&&typeof module<"u"?pt(exports):typeof define=="function"&&define.amd?define(["exports"],pt):(it=typeof globalThis<"u"?globalThis:it||self,pt(it.mhx={}))})(this,(function(it){"use strict";const pt=new Map,Ye=new Map,Ze=new Map,qt=new Map;let dt=null;function Tc(t){dt=t}function Ic(t,e,n,o,$,r,i,s,c,_,a){globalThis.mhx={init_mhx:t,process:e,handle_event:n,version:o},dt={on_fetch_success:$,on_fetch_error:r,on_mutation_observed:i,on_ws_open:s,on_ws_message:c,on_ws_error:_,on_ws_close:a}}function Lc(){return document}function Pc(){return window}function zc(t){return t.body}function Dc(t){return t.head}function Fc(t){return t.documentElement}function Nc(t,e){return t.querySelector(e)}function Bc(t,e){return t.querySelector(e)!==null}function Vc(t,e){return t.querySelectorAll(e).length}function Uc(t,e,n){return t.querySelectorAll(e)[n]}function Jc(t,e){return t.getElementById(e)}function Hc(t,e){return t.getElementById(e)!==null}function Wc(t,e){return t.createElement(e)}function Kc(t){return t.URL}function Xc(t){return t.title}function Qc(t,e){t.title=e}function Gc(t){return t.activeElement}function Yc(t){return t.activeElement!==null}function Zc(t,e,n){t.addEventListener(e,n)}function t_(t,e,n){t.addEventListener(e,n)}function e_(t){return t.location.href}function n_(t,e){t.location.href=e}function o_(t,e,n){t.history.pushState({},n,e)}function $_(t,e,n){t.history.replaceState({},n,e)}function r_(t){t.history.back()}function i_(t){t.history.forward()}function s_(t,e,n){return t.setTimeout(e,n)}function c_(t,e){t.clearTimeout(e)}function __(t,e,n){return t.setInterval(e,n)}function a_(t,e){t.clearInterval(e)}function u_(t,e){return t.requestAnimationFrame(e)}function l_(t,e){t.cancelAnimationFrame(e)}function f_(t,e){return t.getAttribute(e)??""}function m_(t,e,n){t.setAttribute(e,n)}function d_(t,e){t.removeAttribute(e)}function h_(t,e){return!!(t&&t.hasAttribute&&t.hasAttribute(e))}function b_(t,e){t.classList.add(e)}function p_(t,e){t.classList.remove(e)}function g_(t,e){return t.classList.toggle(e)}function k_(t,e){return t.classList.contains(e)}function w_(t,e){return t.querySelector(e)}function v_(t,e){return t.querySelector(e)!==null}function y_(t,e){return t.closest(e)}function x_(t,e){return t.closest(e)!==null}function S_(t,e){return t.matches(e)}function M_(t,e){return t===e}function C_(t){return t.parentElement}function E_(t){return t.parentElement!==null}function A_(t){return t.tagName}function j_(t){return t.id??""}function q_(t,e){t.id=e}function R_(t){return t.innerHTML}function O_(t,e){t.innerHTML=e}function T_(t){return t.outerHTML}function I_(t,e){t.outerHTML=e}function L_(t){return t.textContent??""}function P_(t,e){t.textContent=e}function z_(t,e,n){t.insertAdjacentHTML(e,n)}function D_(t){t.remove()}function F_(t){t.focus()}function N_(t){t.blur()}function B_(t){return t==null}function V_(t){return t.children.length}function U_(t,e){return t.children[e]}function J_(t){return t.value??""}function H_(t,e){t.value=e}function W_(t){return t.type}function K_(t){return t.target}function X_(t){return t.currentTarget}function Q_(t){return t.target!==null}function G_(t){t.preventDefault()}function Y_(t){t.stopPropagation()}function Z_(t){t.stopImmediatePropagation()}function ta(t){return t.isTrusted}function ea(t){return t.defaultPrevented}function na(t){return t.cancelBubble}function oa(t){return t.timeStamp}function $a(t,e){try{return new Function("event",`with (event) { return !!(${e}); }`)(t)}catch{return!1}}function ra(t){return t}function ia(t){return t.clientX}function sa(t){return t.clientY}function ca(t){return t.ctrlKey}function _a(t){return t.shiftKey}function aa(t){return t.altKey}function ua(t){return t.metaKey}function la(t){return t.button}function fa(t){return t}function ma(t){return t.key}function da(t){return t.code}function ha(t){return t.ctrlKey}function ba(t){return t.shiftKey}function pa(t){return t.altKey}function ga(t){return t.metaKey}function ka(t){return t.repeat}function wa(t){return t}function va(t){return t.data??""}function ya(t){return t.inputType??""}function xa(t){return t}function Sa(t){return t.submitter}function Ma(t){return t.submitter!==null}function Ca(t,e){const n=typeof e=="string"?JSON.parse(e):e;return window.fetch(t,n)}function Ea(t){return t.status}function Aa(t){return t.statusText}function ja(t){return t.ok}function qa(t){return t.headers}function Ra(t){return t.url}function Oa(t){return t.redirected}function Ta(t){return t.text()}function Ia(t){return t.json()}function La(t,e){return t.get(e)??""}function Pa(t,e){return t.has(e)}function za(){return new AbortController}function Da(t){return t.signal}function Fa(t){t.abort()}function Na(t){return t.aborted}function Ba(){return new FormData}function Va(t){return new FormData(t)}function Ua(t,e,n){t.append(e,n)}function Ja(t,e){return t.get(e)??""}function Ha(t,e){return t.has(e)}function Wa(t){return new URLSearchParams(t).toString()}function Ka(t,e,n){const o=JSON.parse(e),$=new AbortController;pt.set(n,{controller:$}),window.fetch(t,{...o,signal:$.signal}).then(async r=>{const i=await r.text(),s=dt||globalThis.mhx_callbacks;s&&pt.has(n)&&s.on_fetch_success(n,i)}).catch(r=>{const i=dt||globalThis.mhx_callbacks;i&&pt.has(n)&&i.on_fetch_error(n,r.message)}).finally(()=>{pt.delete(n)})}function Xa(t){const e=pt.get(t);e&&(e.controller.abort(),pt.delete(t))}function Qa(){return new Response("",{status:200})}function Ga(t,e){try{const n=new WebSocket(t);qt.set(e,n),n.addEventListener("open",()=>{const o=dt||globalThis.mhx_callbacks;o&&o.on_ws_open&&qt.has(e)&&o.on_ws_open(e)}),n.addEventListener("message",o=>{const $=dt||globalThis.mhx_callbacks;if(!$||!$.on_ws_message||!qt.has(e))return;const r=typeof o.data=="string"?o.data:String(o.data??"");$.on_ws_message(e,r)}),n.addEventListener("error",()=>{const o=dt||globalThis.mhx_callbacks;o&&o.on_ws_error&&qt.has(e)&&o.on_ws_error(e,"websocket_error")}),n.addEventListener("close",o=>{const $=dt||globalThis.mhx_callbacks;$&&$.on_ws_close&&$.on_ws_close(e,o.code,o.reason??""),qt.delete(e)})}catch(n){const o=dt||globalThis.mhx_callbacks;o&&o.on_ws_error&&o.on_ws_error(e,n?.message??"websocket_connect_error")}}function Ya(t,e){const n=qt.get(t);if(!n||n.readyState!==WebSocket.OPEN)return!1;try{return n.send(e),!0}catch{return!1}}function Za(t){const e=qt.get(t);if(e)try{e.close()}finally{qt.delete(t)}}function tu(t){const e=new MutationObserver(n=>{Ze.set(t,n);const o=dt||globalThis.mhx_callbacks;o&&o.on_mutation_observed(t)});return Ye.set(t,e),e}function eu(t,e,n,o,$){t.observe(e,{subtree:n,childList:o,attributes:$,attributeOldValue:!0})}function nu(t){t.disconnect()}function ou(t){for(const[e,n]of Ye)if(n===t){const o=Ze.get(e);return o?o.length:0}return 0}function $u(t,e){for(const[n,o]of Ye)if(o===t){const $=Ze.get(n);return $?$[e]:null}return null}function ru(t){for(const[e,n]of Ye)if(n===t){Ze.delete(e);break}}function iu(t){return t.type}function su(t){return t.target}function cu(t){return t.addedNodes.length}function _u(t,e){return t.addedNodes[e]}function au(t){return t.removedNodes.length}function uu(t,e){return t.removedNodes[e]}function lu(t){return t.attributeName??""}function fu(t){return t.attributeName!==null}function mu(t){return t.oldValue??""}function du(t){return t.oldValue!==null}function hu(t){return t.nodeType===Node.ELEMENT_NODE}function bu(t){return t}function pu(t){return t.nodeType}function gu(t){return t.nodeName}function ku(t){console.log(t)}function wu(t){console.error(t)}function vu(t){console.warn(t)}function yu(t){console.info(t)}function xu(){return typeof performance<"u"?performance.now():Date.now()}const o$={initMhxFfi:Tc,get_document:Lc,get_window:Pc,document_body:zc,document_head:Dc,document_document_element:Fc,document_query_selector:Nc,document_query_selector_exists:Bc,document_query_selector_all_count:Vc,document_query_selector_all_at:Uc,document_get_element_by_id:Jc,document_element_exists:Hc,document_create_element:Wc,document_url:Kc,document_title:Xc,document_set_title:Qc,document_active_element:Gc,document_has_active_element:Yc,document_add_event_listener:Zc,window_add_event_listener:t_,window_location_href:e_,window_set_location_href:n_,window_history_push_state:o_,window_history_replace_state:$_,window_history_back:r_,window_history_forward:i_,window_set_timeout:s_,window_clear_timeout:c_,window_set_interval:__,window_clear_interval:a_,window_request_animation_frame:u_,window_cancel_animation_frame:l_,element_get_attribute:f_,element_set_attribute:m_,element_remove_attribute:d_,element_has_attribute:h_,element_add_class:b_,element_remove_class:p_,element_toggle_class:g_,element_has_class:k_,element_query_selector:w_,element_query_selector_exists:v_,element_closest:y_,element_closest_exists:x_,element_matches:S_,element_same:M_,element_parent_element:C_,element_has_parent:E_,element_tag_name:A_,element_id:j_,element_set_id:q_,element_inner_html:R_,element_set_inner_html:O_,element_outer_html:T_,element_set_outer_html:I_,element_text_content:L_,element_set_text_content:P_,element_insert_adjacent_html:z_,element_remove:D_,element_focus:F_,element_blur:N_,element_is_null:B_,element_child_count:V_,element_child_at:U_,element_value:J_,element_set_value:H_,event_type:W_,event_target:K_,event_current_target:X_,event_has_target:Q_,event_prevent_default:G_,event_stop_propagation:Y_,event_stop_immediate_propagation:Z_,event_is_trusted:ta,event_default_prevented:ea,event_cancel_bubble:na,event_time_stamp:oa,event_eval_filter:$a,event_as_mouse_event:ra,mouse_event_client_x:ia,mouse_event_client_y:sa,mouse_event_ctrl_key:ca,mouse_event_shift_key:_a,mouse_event_alt_key:aa,mouse_event_meta_key:ua,mouse_event_button:la,event_as_keyboard_event:fa,keyboard_event_key:ma,keyboard_event_code:da,keyboard_event_ctrl_key:ha,keyboard_event_shift_key:ba,keyboard_event_alt_key:pa,keyboard_event_meta_key:ga,keyboard_event_repeat:ka,event_as_input_event:wa,input_event_data:va,input_event_input_type:ya,event_as_submit_event:xa,submit_event_submitter:Sa,submit_event_has_submitter:Ma,fetch:Ca,response_status:Ea,response_status_text:Aa,response_ok:ja,response_headers:qa,response_url:Ra,response_redirected:Oa,response_text:Ta,response_json:Ia,headers_get:La,headers_has:Pa,abort_controller_new:za,abort_controller_signal:Da,abort_controller_abort:Fa,abort_signal_aborted:Na,form_data_new:Ba,form_data_from_element:Va,form_data_append:Ua,form_data_get:Ja,form_data_has:Ha,form_data_to_url_encoded:Wa,initiate_fetch:Ka,cancel_fetch:Xa,create_dummy_response:Qa,ws_connect:Ga,ws_send:Ya,ws_close:Za,mutation_observer_new:tu,mutation_observer_observe:eu,mutation_observer_disconnect:nu,mutation_observer_records_count:ou,mutation_observer_record_at:$u,mutation_observer_clear_records:ru,mutation_record_type:iu,mutation_record_target:su,mutation_record_added_nodes_count:cu,mutation_record_added_node_at:_u,mutation_record_removed_nodes_count:au,mutation_record_removed_node_at:uu,mutation_record_attribute_name:lu,mutation_record_has_attribute_name:fu,mutation_record_old_value:mu,mutation_record_has_old_value:du,node_is_element:hu,node_as_element:bu,node_node_type:pu,node_node_name:gu,console_log:ku,console_error:wu,console_warn:vu,console_info:yu,current_time:xu};typeof globalThis<"u"&&!globalThis.mhx_ffi&&(globalThis.mhx_ffi=o$);function Su(t){return t.f4ah6o$mhx$core$$process?t.f4ah6o$mhx$core$$process:t.f4ah6o$mhx$core$$Mhx$process_tree&&t.f4ah6o$mhx$core$$global_mhx?e=>t.f4ah6o$mhx$core$$Mhx$process_tree(t.f4ah6o$mhx$core$$global_mhx,e):null}function $$(){if(dt!==null&&globalThis.mhx)return!0;const t=globalThis,e=t.f4ah6o$mhx$core$$init_mhx,n=t.f4ah6o$mhx$core$$handle_event,o=t.f4ah6o$mhx$network$$on_fetch_success,$=t.f4ah6o$mhx$network$$on_fetch_error,r=t.f4ah6o$mhx$core$$on_mutation_observed,i=t.f4ah6o$mhx$network$$on_ws_open,s=t.f4ah6o$mhx$network$$on_ws_message,c=t.f4ah6o$mhx$network$$on_ws_error,_=t.f4ah6o$mhx$network$$on_ws_close,a=Su(t);if(e&&n&&o&&$&&r&&i&&s&&c&&_&&a){const u=t.f4ah6o$mhx$$version||t.f4ah6o$mhx$core$$version||"unknown";return Ic(e,a,n,u,o,$,r,i,s,c,_),!0}return!1}function Mu(){if($$()||typeof setTimeout!="function")return;let t=0;const e=50,n=()=>{t+=1,!($$()||t>=e)&&setTimeout(n,0)};setTimeout(n,0)}Mu();const v=o$,tn={$tag:0},Cu={$tag:1},Eu={$tag:2};function zn(t,e){this._0=t,this._1=e}zn.prototype.$tag=3;function J(t){this._0=t}J.prototype.$tag=4;function Dn(t){this._0=t}Dn.prototype.$tag=5;function ut(t){this._0=t}ut.prototype.$tag=6;const r$={hi:-1,lo:-1},Au={hi:232830643,lo:-1486618624},V={hi:0,lo:0},st={hi:0,lo:1},tt={hi:0,lo:10},ju={hi:0,lo:100},qu={hi:0,lo:1e3},Ru={hi:0,lo:1e4},Ou={hi:0,lo:1e5},Tu={hi:0,lo:1e6},Iu={hi:0,lo:1e7},Lu={hi:0,lo:1e8},Pu={hi:0,lo:1e9},zu={hi:2,lo:1410065408},Du={hi:23,lo:1215752192},Fu={hi:232,lo:-727379968},Nu={hi:2328,lo:1316134912},Bu={hi:23283,lo:276447232},Vu={hi:232830,lo:-1530494976},Uu={hi:0,lo:22},Ju={hi:0,lo:37},Hu={hi:-1,lo:-22},Fn={$tag:0},Wu={$tag:1};function en(t){this._0=t}en.prototype.$tag=2;const Ku={hi:-1048576,lo:0},Xu={hi:2146959360,lo:1},Qu={hi:2146435072,lo:0},i$={hi:0,lo:2};function Rt(t){this._0=t}Rt.prototype.$tag=0;function Nn(t){this._0=t}Nn.prototype.$tag=1;class Gu extends Error{}function R(){throw new Gu}function g(t,e){if(e<0||e>=t.length)throw new Error("Index out of bounds")}function Bn(t,e){return(t>=e)-(t<=e)}const Yu=()=>{if(globalThis.crypto?.getRandomValues){const t=new Uint32Array(1);return globalThis.crypto.getRandomValues(t),t[0]|0}else return Math.floor(Math.random()*4294967296)|0};function Wt(t){this._0=t}Wt.prototype.$tag=0;function Vn(t){this._0=t}Vn.prototype.$tag=1;function yt(t){this._0=t}yt.prototype.$tag=25;function s$(t){this._0=t}s$.prototype.$tag=24;function c$(t){this._0=t}c$.prototype.$tag=22;function le(t,e){this._0=t,this._1=e}le.prototype.$tag=21;function _$(t){this._0=t}_$.prototype.$tag=20;function a$(t){this._0=t}a$.prototype.$tag=19;function Ae(t,e){this._0=t,this._1=e}Ae.prototype.$tag=18;const ot={$tag:17},u$={$tag:14};function Un(t){this._0=t}Un.prototype.$tag=13;function ht(t,e){this._0=t,this._1=e}ht.prototype.$tag=12;function Jn(t,e){this._0=t,this._1=e}Jn.prototype.$tag=8;const l$={$tag:6},nn={$tag:5};function Hn(t,e){this._0=t,this._1=e}Hn.prototype.$tag=4;function Wn(t,e){this._0=t,this._1=e}Wn.prototype.$tag=3;function f$(t,e){this._0=t,this._1=e}f$.prototype.$tag=2;function Kn(t,e){this._0=t,this._1=e}Kn.prototype.$tag=1;const Zu=(t,e)=>t.toString(e);function tl(t,e){return new Uint8Array(t)}function z(t,e){const n=new Array(t);return n.fill(e),n}const Ot=(t,e)=>{t.push(e)},el=t=>(t.hi>>>0)*4294967296+(t.lo>>>0),nl=function t(e){let n=t._view;return n===void 0&&(n=t._view=new DataView(new ArrayBuffer(8))),n.setUint32(0,e.hi),n.setUint32(4,e.lo),n.getFloat64(0)},ol=function(){try{return new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{return}},$l=(t,e)=>{const n=BigInt(t.hi)<<32n|BigInt(t.lo>>>0),o=BigInt(e.hi)<<32n|BigInt(e.lo>>>0),$=n/o,r=Number($&0xFFFFFFFFn);return{hi:Number($>>32n&0xFFFFFFFFn)|0,lo:r|0}},rl=(t,e)=>{const n=BigInt(t.hi>>>0)<<32n|BigInt(t.lo>>>0),o=BigInt(e.hi>>>0)<<32n|BigInt(e.lo>>>0),$=n/o,r=Number($&0xFFFFFFFFn);return{hi:Number($>>32n&0xFFFFFFFFn)|0,lo:r|0}},il=(t,e)=>{const n=t.hi,o=e.hi;if(n<o)return-1;if(n>o)return 1;const $=t.lo>>>0,r=e.lo>>>0;return $<r?-1:$>r?1:0},sl=(t,e)=>{const n=t.hi>>>0,o=e.hi>>>0;if(n<o)return-1;if(n>o)return 1;const $=t.lo>>>0,r=e.lo>>>0;return $<r?-1:$>r?1:0},cl=t=>t.hi*4294967296+(t.lo>>>0),_l=(t,e)=>{t.length=e},al=t=>t.pop(),ul=(t,e,n)=>t.splice(e,n),ll=t=>t.toString();function je(t){this._0=t}je.prototype.$tag=1;function m$(t){this._0=t}m$.prototype.$tag=0;function on(t){this._0=t}on.prototype.$tag=0;function Xn(t){this._0=t}Xn.prototype.$tag=1;function d$(t){this._0=t}d$.prototype.$tag=0;function h$(t){this._0=t}h$.prototype.$tag=1;function Qn(t){this._0=t}Qn.prototype.$tag=0;function Tt(t){this._0=t}Tt.prototype.$tag=1;function b$(t){this._0=t}b$.prototype.$tag=0;function Kt(t){this._0=t}Kt.prototype.$tag=1;function p$(t){this._0=t}p$.prototype.$tag=0;function g$(t){this._0=t}g$.prototype.$tag=0;function k$(t){this._0=t}k$.prototype.$tag=1;const Gn={hi:2147483647,lo:-1},w$={hi:0,lo:16},Yn={hi:-2147483648,lo:0},fl={hi:0,lo:65536},Zn={$tag:0};function v$(t){this._0=t}v$.prototype.$tag=1;function fe(t){this._0=t}fe.prototype.$tag=0;function lt(t){this._0=t}lt.prototype.$tag=1;function It(t){this._0=t}It.prototype.$tag=0;function W(t){this._0=t}W.prototype.$tag=1;function $n(t){this._0=t}$n.prototype.$tag=0;function to(t){this._0=t}to.prototype.$tag=1;function qe(t){this._0=t}qe.prototype.$tag=0;function ct(t){this._0=t}ct.prototype.$tag=1;const ml={hi:2097151,lo:-1},dl={hi:-2097152,lo:1};function y$(t){this._0=t}y$.prototype.$tag=0;function x$(t){this._0=t}x$.prototype.$tag=1;function eo(t){this._0=t}eo.prototype.$tag=0;function S$(t){this._0=t}S$.prototype.$tag=1;const hl={$tag:0},bl={$tag:1},pl={$tag:2};function Re(t,e){this._0=t,this._1=e}Re.prototype.$tag=3;function rn(t){this._0=t}rn.prototype.$tag=4;const gl={$tag:5},M$={$tag:6},kl={$tag:7},C$={$tag:8},E$={$tag:9};function A$(t,e){this._0=t,this._1=e}A$.prototype.$tag=0;function j$(t,e){this._0=t,this._1=e}j$.prototype.$tag=1;function sn(t){this._0=t}sn.prototype.$tag=0;function q$(t){this._0=t}q$.prototype.$tag=1;function R$(t){this._0=t}R$.prototype.$tag=0;function Oe(t){this._0=t}Oe.prototype.$tag=1;function O$(t){this._0=t}O$.prototype.$tag=1;function T$(t){this._0=t}T$.prototype.$tag=0;function me(t){this._0=t}me.prototype.$tag=1;const wl={$tag:0},vl={$tag:1},yl={$tag:2},xl={$tag:3};function I$(t){this._0=t}I$.prototype.$tag=4;function L$(t){this._0=t}L$.prototype.$tag=5;function P$(t){this._0=t}P$.prototype.$tag=6;function z$(t){this._0=t}z$.prototype.$tag=7;function D$(t){this._0=t}D$.prototype.$tag=8;function F$(t){this._0=t}F$.prototype.$tag=0;function bt(t){this._0=t}bt.prototype.$tag=1;const Sl={$tag:0},Ml={$tag:1};function N$(t){this._0=t}N$.prototype.$tag=2;function B$(t){this._0=t}B$.prototype.$tag=3;function V$(t){this._0=t}V$.prototype.$tag=4;function U$(t){this._0=t}U$.prototype.$tag=5;function J$(t){this._0=t}J$.prototype.$tag=6;const Cl={$tag:7},El={$tag:8};function H$(t){this._0=t}H$.prototype.$tag=9;function W$(t){this._0=t}W$.prototype.$tag=10;function K$(t){this._0=t}K$.prototype.$tag=1;function X$(t){this._0=t}X$.prototype.$tag=0;function Q$(t){this._0=t}Q$.prototype.$tag=1;function G$(t){this._0=t}G$.prototype.$tag=1;function Y$(t){this._0=t}Y$.prototype.$tag=1;const Al={$tag:0};function Z$(t){this._0=t}Z$.prototype.$tag=1;function cn(t){this._0=t}cn.prototype.$tag=0;const no={$tag:1},jl={$tag:2};function tr(t){this._0=t}tr.prototype.$tag=0;function er(t){this._0=t}er.prototype.$tag=1;function oo(t){this._0=t}oo.prototype.$tag=0;function $o(t){this._0=t}$o.prototype.$tag=1;function nr(t){this._0=t}nr.prototype.$tag=0;function or(t){this._0=t}or.prototype.$tag=1;function $r(t){this._0=t}$r.prototype.$tag=0;function ro(t){this._0=t}ro.prototype.$tag=1;function io(t){this._0=t}io.prototype.$tag=0;function so(t){this._0=t}so.prototype.$tag=1;function rr(t){this._0=t}rr.prototype.$tag=0;function Lt(t){this._0=t}Lt.prototype.$tag=1;function ir(t,e){this._0=t,this._1=e}ir.prototype.$tag=0;function sr(t,e,n){this._0=t,this._1=e,this._2=n}sr.prototype.$tag=1;function cr(t,e){this._0=t,this._1=e}cr.prototype.$tag=2;function _r(t,e){this._0=t,this._1=e}_r.prototype.$tag=3;function ar(t,e){this._0=t,this._1=e}ar.prototype.$tag=4;function ur(t,e){this._0=t,this._1=e}ur.prototype.$tag=5;function lr(t){this._0=t}lr.prototype.$tag=6;function Te(t){this._0=t}Te.prototype.$tag=0;function Ie(t){this._0=t}Ie.prototype.$tag=1;function co(t){this._0=t}co.prototype.$tag=0;function Xt(t){this._0=t}Xt.prototype.$tag=1;function fr(t,e){this._0=t,this._1=e}fr.prototype.$tag=0;function mr(t){this._0=t}mr.prototype.$tag=1;function dr(t,e){this._0=t,this._1=e}dr.prototype.$tag=2;function hr(t,e){this._0=t,this._1=e}hr.prototype.$tag=3;const ql={$tag:4},br={$tag:0};function _o(t){this._0=t}_o.prototype.$tag=1;const Rl={$tag:0};function pr(t){this._0=t}pr.prototype.$tag=1;function gr(t,e){this._0=t,this._1=e}gr.prototype.$tag=0;function kr(t,e,n){this._0=t,this._1=e,this._2=n}kr.prototype.$tag=1;const Ol={$tag:2},Qt={method_0:I,method_1:_i,method_2:ho,method_3:O},wr=`	
\r `,Tl=tn,Gt={tried:!1,exports:void 0},Il=r$,vr="value out of range",de="invalid syntax",yr="",xr=Au,Ll=V,Pl=V,Q={mantissa_bits:52,exponent_bits:11,bias:-1023},he=[1,3,6,9,13,16,19,23,26,29,33,36,39,43,46,49,53,56,59],_n=[{_0:0,_1:""},{_0:1,_1:"5"},{_0:1,_1:"25"},{_0:1,_1:"125"},{_0:2,_1:"625"},{_0:2,_1:"3125"},{_0:2,_1:"15625"},{_0:3,_1:"78125"},{_0:3,_1:"390625"},{_0:3,_1:"1953125"},{_0:4,_1:"9765625"},{_0:4,_1:"48828125"},{_0:4,_1:"244140625"},{_0:4,_1:"1220703125"},{_0:5,_1:"6103515625"},{_0:5,_1:"30517578125"},{_0:5,_1:"152587890625"},{_0:6,_1:"762939453125"},{_0:6,_1:"3814697265625"},{_0:6,_1:"19073486328125"},{_0:7,_1:"95367431640625"},{_0:7,_1:"476837158203125"},{_0:7,_1:"2384185791015625"},{_0:7,_1:"11920928955078125"},{_0:8,_1:"59604644775390625"},{_0:8,_1:"298023223876953125"},{_0:8,_1:"1490116119384765625"},{_0:9,_1:"7450580596923828125"},{_0:9,_1:"37252902984619140625"},{_0:9,_1:"186264514923095703125"},{_0:10,_1:"931322574615478515625"},{_0:10,_1:"4656612873077392578125"},{_0:10,_1:"23283064365386962890625"},{_0:10,_1:"116415321826934814453125"},{_0:11,_1:"582076609134674072265625"},{_0:11,_1:"2910383045673370361328125"},{_0:11,_1:"14551915228366851806640625"},{_0:12,_1:"72759576141834259033203125"},{_0:12,_1:"363797880709171295166015625"},{_0:12,_1:"1818989403545856475830078125"},{_0:13,_1:"9094947017729282379150390625"},{_0:13,_1:"45474735088646411895751953125"},{_0:13,_1:"227373675443232059478759765625"},{_0:13,_1:"1136868377216160297393798828125"},{_0:14,_1:"5684341886080801486968994140625"},{_0:14,_1:"28421709430404007434844970703125"},{_0:14,_1:"142108547152020037174224853515625"},{_0:15,_1:"710542735760100185871124267578125"},{_0:15,_1:"3552713678800500929355621337890625"},{_0:15,_1:"17763568394002504646778106689453125"},{_0:16,_1:"88817841970012523233890533447265625"},{_0:16,_1:"444089209850062616169452667236328125"},{_0:16,_1:"2220446049250313080847263336181640625"},{_0:16,_1:"11102230246251565404236316680908203125"},{_0:17,_1:"55511151231257827021181583404541015625"},{_0:17,_1:"277555756156289135105907917022705078125"},{_0:17,_1:"1387778780781445675529539585113525390625"},{_0:18,_1:"6938893903907228377647697925567626953125"},{_0:18,_1:"34694469519536141888238489627838134765625"},{_0:18,_1:"173472347597680709441192448139190673828125"},{_0:19,_1:"867361737988403547205962240695953369140625"}],Sr=[st,tt,ju,qu,Ru,Ou,Tu,Iu,Lu,Pu,zu,Du,Fu,Nu,Bu,Vu],ao=Uu,Mr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,0,0,0,0,0,0,0,0,0],zl=Ju,Dl=Hu,Cr=".",Er="e",Ar="E",Fl=["once","changed","consume","prevent","delay","throttle","debounce","from","target","queue"],jr="closest ",qr="find ",Rr="next ",Or="previous ",Tr="ms",Ir="s",Lr=".",Pr=" ",zr=":",uo={strategy:0,swap_delay:0,settle_delay:20,scroll:"",show:"",focus_scroll:!1},an=["click","submit","change","input","focus","blur","keydown","keyup","mouseenter","mouseleave","load","revealed","intersect"],Dr="closest ",Fr="find ",Nr="&",Br="=",Vr='"',Ur="{",Jr="}",Hr=":",Wr="?",Kr="/",Xr="https://",Qr="http://",Gr="wss://",Yr="ws://",Zr="mx-";Jh(0);const Nl=Yu(),Pt=g0(),Bl={handler:m0},Vl=0,Ul=0,Jl=new en(2),Hl=new en(1),Wl=new en(0),Kl={_0:0,_1:""},Le={next_id:1,callbacks:ad({start:0,end:0})},zt={next_id:1,callbacks:pd({start:0,end:0})},be={next_id:1,entries:bd({start:0,end:0})},lo=Ve(Ku),Xl=Ve(Xu),fo=Ve(Qu),ti=ds(i$,52),Ql=V,Gl={_0:"HX-Request",_1:"true"},Yl=new Rt("missing_ops"),Zl=new Rt("type_must_be_string"),tf=new Rt("not_patch_message"),ef=new Rt("patch_payload_must_be_array_or_object"),nf=[{_0:"HX-Request",_1:"true"}];function of(t){return R()}function $f(t){return R()}function rf(t){R()}function sf(t){return R()}function cf(t){return R()}function _f(t,e){Ub(e,t)}function F(t,e){jf(e,t)}function Dt(t,e){xi(e,t)}function Pe(t,e){Jb(e,t)}function af(t,e){bs(e,t)}function uf(t,e){const n=(t.acc>>>0)+((Math.imul(e,-1028477379)|0)>>>0)|0,o=17;t.acc=Math.imul(n<<o|(n>>>(32-o|0)|0),668265263)|0}function ei(t,e){t.acc=(t.acc>>>0)+4|0,uf(t,e)}function ni(t,e){return of(`${t}
  at ${De(e)}
`)}function lf(t,e){return $f(`${t}
  at ${De(e)}
`)}function oi(t,e){rf(`${t}
  at ${De(e)}
`)}function ff(t,e){return sf(`${t}
  at ${De(e)}
`)}function un(t,e){return cf(`${t}
  at ${De(e)}
`)}function G(t){return{val:""}}function O(t,e){const n=t;n.val=`${n.val}${String.fromCodePoint(e)}`}function xt(t){return ii(t,55296)&&ri(t,56319)}function $t(t){return ii(t,56320)&&ri(t,57343)}function pe(t,e){return(((Math.imul(t-55296|0,1024)|0)+e|0)-56320|0)+65536|0}function P(t,e){const n=t.charCodeAt(e);if(xt(n)){const o=e+1|0,$=t.charCodeAt(o);return pe(n,$)}else return n}function mf(t,e){const n=t.length;return e>=0&&e<n?(g(t,e),t[e]):R()}function ln(t,e){const n=t.length;return e>=0&&e<n?(g(t,e),t[e]):R()}function df(t){const e={str:t,start:0,end:t.length},n=e.str,o=e.start,$=o+(e.end-e.start|0)|0;let r=o,i=-1,s=-1,c=-1,_=-1,a=-1,u=-1,l=-1,f=-1,h=-1,d=-1,p=-1,m=-1,w=-1,C=-1,j=-1;t:{let M;e:if(r<$){const A=r,S=n.charCodeAt(A);if(r=r+1|0,S<65){if(S<64)break t;for(;;)if(f=r,r<$){n:{const b=r,E=n.charCodeAt(b);if(r=r+1|0,E<55296){if(E<58)break n;if(E>58)break n;if(r<$){$:{const x=r,T=n.charCodeAt(x);if(r=r+1|0,T<56319){if(T<55296)break $;M=7;break e}else if(T>56319){if(T<65536)break $;break t}else{M=8;break e}}M=0;break e}else break t}else if(E>56318)if(E<57344)if(r<$){const x=r,T=n.charCodeAt(x);if(r=r+1|0,T<56320)break t;if(T>57343)break t;continue}else break t;else{if(E>65535)break t;break n}else if(r<$){const x=r,T=n.charCodeAt(x);if(r=r+1|0,T<56320)break t;if(T>65535)break t;continue}else break t}continue}else break t}else break t}else break t;let k=M;e:for(;;){const A=k;n:{$:switch(A){case 3:if(p=d,d=h,h=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break o;if(h=r,C=w,w=r,m=r,r<$){r:{const E=r,x=n.charCodeAt(E);if(r=r+1|0,x<59)if(x<46){if(x<45)break r;break n}else if(x>47)if(x<58){k=6;continue e}else{k=3;continue e}else break r;else if(x>55295)if(x<57344)if(x<56319){k=7;continue e}else{k=8;continue e}else{if(x>65535)break t;break r}else break r}k=0;continue e}else break t}else{if(b>58)break o;k=1;continue e}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break t;case 2:if(h=r,w=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break o;k=2;continue e}else{if(b>58)break o;k=3;continue e}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break t;case 0:if(h=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296){if(b<58)break o;if(b>58)break o;k=1;continue e}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break t;case 8:if(r<$){const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<56320)break t;if(b>57343)break t;k=0;continue e}else break t;case 4:if(h=r,j=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break o;k=4;continue e}else{if(b>58)break o;if(p=d,d=h,h=r,r<$){r:{const E=r,x=n.charCodeAt(E);if(r=r+1|0,x<55296)if(x<58){if(x<48)break r;if(h=r,C=w,w=r,r<$){i:{const T=r,B=n.charCodeAt(T);if(r=r+1|0,B<55296)if(B<58){if(B<48)break i;k=5;continue e}else{if(B>58)break i;k=3;continue e}else if(B>56318)if(B<57344){k=8;continue e}else{if(B>65535)break t;break i}else{k=7;continue e}}k=0;continue e}else break $}else{if(x>58)break r;k=1;continue e}else if(x>56318)if(x<57344){k=8;continue e}else{if(x>65535)break t;break r}else{k=7;continue e}}k=0;continue e}else break t}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break t;case 5:if(h=r,w=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break o;k=5;continue e}else{if(b>58)break o;k=3;continue e}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break $;case 6:if(h=r,w=r,m=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<59)if(b<46){if(b<45)break o;break n}else if(b>47)if(b<58){k=6;continue e}else{k=3;continue e}else break o;else if(b>55295)if(b<57344)if(b<56319){k=7;continue e}else{k=8;continue e}else{if(b>65535)break t;break o}else break o}k=0;continue e}else break t;case 7:if(r<$){const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<56320)break t;if(b>65535)break t;k=0;continue e}else break t;case 1:if(d=h,h=r,r<$){o:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break o;k=2;continue e}else{if(b>58)break o;k=1;continue e}else if(b>56318)if(b<57344){k=8;continue e}else{if(b>65535)break t;break o}else{k=7;continue e}}k=0;continue e}else break t;default:break t}h=p,w=C,c=f,_=h,a=w,u=m,l=j,i=0,s=r;break t}if(d=p,h=r,w=C,r<$){n:{const S=r,b=n.charCodeAt(S);if(r=r+1|0,b<55296)if(b<58){if(b<48)break n;k=4;continue}else{if(b>58)break n;k=1;continue}else if(b>56318)if(b<57344){k=8;continue}else{if(b>65535)break t;break n}else{k=7;continue}}k=0;continue}else break t}}if(i===0){let M;t:{e:{const x=ft(n,_+1|0,a);if(x.$tag===1)M=x._0;else{x._0;break e}break t}M=R()}let k;t:{e:{const x=ft(n,a+1|0,u);if(x.$tag===1)k=x._0;else{x._0;break e}break t}k=R()}let A;t:{e:{const x=ft(n,o+1|0,c);if(x.$tag===1)A=x._0;else{x._0;break e}break t}A=R()}let S;t:{e:{const x=ft(n,c+1|0,_);if(x.$tag===1)S=x._0;else{x._0;break e}break t}S=R()}let b;t:{e:{const x=ft(n,u+1|0,l);if(x.$tag===1)b=x._0;else{x._0;break e}break t}b=R()}let E;t:{e:{const x=ft(n,l+1|0,s);if(x.$tag===1)E=x._0;else{x._0;break e}break t}E=R()}return{pkg:A,filename:S,start_line:M,start_column:k,end_line:b,end_column:E}}else return R()}function hf(t,e){ah(e,{self:t,method_table:Qt})}function I(t,e){const n=t;n.val=`${n.val}${e}`}function bf(t,e){ei(t,e)}function pf(t){return{hi:t>>31&-1,lo:t|0}}function _t(t){return pf(t)}function gf(t,e){th(e,t)}function kf(t,e){Zd(e,t)}function wf(t,e){return!Rf(t,e)}function fn(t,e){return xn(t,e)<0}function vf(t,e){return Bn(t,e)<0}function yf(t,e){return Mn(t,e)<0}function $i(t,e){return xn(t,e)>0}function mn(t,e){return Mn(t,e)>0}function ri(t,e){return Bn(t,e)<=0}function ze(t,e){return xn(t,e)<=0}function xf(t,e){return Mn(t,e)<=0}function ii(t,e){return Bn(t,e)>=0}function mo(t,e){return xn(t,e)>=0}function Sf(t,e){return Mn(t,e)>=0}function Mf(t){let e=t.acc;return e=e^(e>>>15|0),e=Math.imul(e,-2048144777)|0,e=e^(e>>>13|0),e=Math.imul(e,-1028477379)|0,e=e^(e>>>16|0),e}function si(t){return Mf(t)}function Cf(t){return{acc:(t>>>0)+374761393|0}}function ci(t){let e;return e=Nl,Cf(e)}function Y(t){const e=ci();return gf(e,t),si(e)}function Ft(t){const e=ci();return kf(e,t),si(e)}function gt(t,e,n){const o=t.length;let $;if(n===void 0)$=o;else{const s=n;$=s<0?o+s|0:s}const r=e<0?o+e|0:e;return r>=0&&r<=$&&$<=o?r<o&&$t(t.charCodeAt(r))?new Wt(nn):$<o&&$t(t.charCodeAt($))?new Wt(nn):new Vn({str:t,start:r,end:$}):new Wt(l$)}function ft(t,e,n){let o;return e===void 0?o=0:o=e,gt(t,o,n)}function _i(t,e,n,o){let $;t:{e:{const r=gt(e,n,n+o|0);if(r.$tag===1)$=r._0;else{r._0;break e}break t}$=R()}ho(t,$)}function Ef(t){const e=G();return o0(t,{self:e,method_table:Qt}),e.val}function De(t){const e=G();return rh(t,{self:e,method_table:Qt}),e.val}function ai(t){const e=G();return xi(t,{self:e,method_table:Qt}),e.val}function ui(t){const e=G();return Oh(t,{self:e,method_table:Qt}),e.val}function li(t){const e=G();return Fp(t,{self:e,method_table:Qt}),e.val}function Af(t){const e=G();return bs(t,{self:e,method_table:Qt}),e.val}function mt(t,e){return Zu(t,e)}function Yt(t,e,n){let o;return n===void 0?o=t.end-t.start|0:o=n,e>=0&&e<=o&&o<=(t.end-t.start|0)?{str:t.str,start:t.start+e|0,end:t.start+o|0}:ni("Invalid index for View","@moonbitlang/core/builtin:stringview.mbt:113:5-113:36")}function fi(t){return t<10?(t+48|0)&255:(((t+97|0)&255)-10|0)&255}function Nt(t){const e=G();return O(e,fi((t/16|0)&255)),O(e,fi((t%16|0)&255)),e.val}function Zt(t,e,n){const o=t._1,$=t._0;if(n>e){o.method_table.method_1(o.self,$,e,n-e|0);return}else return}function jf(t,e){e.method_table.method_3(e.self,34);const n={_0:t,_1:e},o=t.length;let $=0,r=0;t:for(;;){const i=$,s=r;if(i>=o){Zt(n,s,i);break}const c=t.charCodeAt(i);let _;e:switch(c){case 34:{_=c;break e}case 92:{_=c;break e}case 10:{Zt(n,s,i),e.method_table.method_0(e.self,"\\n"),$=i+1|0,r=i+1|0;continue t}case 13:{Zt(n,s,i),e.method_table.method_0(e.self,"\\r"),$=i+1|0,r=i+1|0;continue t}case 8:{Zt(n,s,i),e.method_table.method_0(e.self,"\\b"),$=i+1|0,r=i+1|0;continue t}case 9:{Zt(n,s,i),e.method_table.method_0(e.self,"\\t"),$=i+1|0,r=i+1|0;continue t}default:if(vf(c,32)){Zt(n,s,i),e.method_table.method_0(e.self,"\\u{"),e.method_table.method_0(e.self,Nt(c&255)),e.method_table.method_3(e.self,125),$=i+1|0,r=i+1|0;continue t}else{$=i+1|0;continue t}}Zt(n,s,i),e.method_table.method_3(e.self,92),e.method_table.method_3(e.self,_),$=i+1|0,r=i+1|0}e.method_table.method_3(e.self,34)}function q(t){return t.str.substring(t.start,t.end)}function mi(t){const e=t.start,n=t.end,o={val:e};return()=>{if(o.val<n){const r=t.str,i=o.val,s=r.charCodeAt(i);if(xt(s)&&(o.val+1|0)<t.end){const c=t.str,_=o.val+1|0,a=c.charCodeAt(_);if($t(a))return o.val=o.val+2|0,pe(s,a)}return o.val=o.val+1|0,s}else return-1}}function d4(t){return t}function qf(t){const e=t.start,n=t.end,o={val:e},$={val:0};return()=>{if(o.val<n){const r=t.str,i=o.val,s=r.charCodeAt(i);if(xt(s)&&(o.val+1|0)<t.end){const _=t.str,a=o.val+1|0,u=_.charCodeAt(a);if($t(u)){const l={_0:$.val,_1:pe(s,u)};return o.val=o.val+2|0,$.val=$.val+1|0,l}}const c={_0:$.val,_1:s};return o.val=o.val+1|0,$.val=$.val+1|0,c}else return}}function Rf(t,e){const n=t.end-t.start|0;if(n===(e.end-e.start|0)){if(t.str===e.str&&t.start===e.start)return!0;let o=0;for(;;){const $=o;if($<n){const r=t.str,i=t.start+$|0,s=r.charCodeAt(i),c=e.str,_=e.start+$|0,a=c.charCodeAt(_);if(s!==a)return!1;o=$+1|0;continue}else break}return!0}else return!1}function H(t,e,n){let o;return n===void 0?o=t.length:o=n,e>=0&&e<=o&&o<=t.length?{str:t,start:e,end:o}:ni("Invalid index for View","@moonbitlang/core/builtin:stringview.mbt:399:5-399:36")}function Of(t,e,n){const o=t.str.length;let $;if(n===void 0)$=t.end;else{const s=n;$=s<0?t.end+s|0:t.start+s|0}const r=e<0?t.end+e|0:t.start+e|0;if(r>=t.start&&r<=$&&$<=t.end){let i;if(r<o){const c=t.str;i=$t(c.charCodeAt(r))}else i=!1;if(i)return new Wt(nn);let s;if($<o){const c=t.str;s=$t(c.charCodeAt($))}else s=!1;return s?new Wt(nn):new Vn({str:t.str,start:r,end:$})}else return new Wt(l$)}function te(t,e,n,o){let $;o===void 0?$=t.length:$=o;let r=n,i=0;for(;;){const s=r,c=i;if(s<$&&c<e){const _=t.charCodeAt(s);if(xt(_)&&(s+1|0)<$){const a=s+1|0,u=t.charCodeAt(a);if($t(u)){r=s+2|0,i=c+1|0;continue}else oi("invalid surrogate pair","@moonbitlang/core/builtin:string.mbt:424:9-424:40")}r=s+1|0,i=c+1|0;continue}else return c===e&&s===$}}function D(t,e,n,o){let $;o===void 0?$=t.length:$=o;let r=n,i=0;for(;;){const s=r,c=i;if(s<$&&c<e){const _=t.charCodeAt(s);if(xt(_)&&(s+1|0)<$){const a=s+1|0,u=t.charCodeAt(a);if($t(u)){r=s+2|0,i=c+1|0;continue}else oi("invalid surrogate pair","@moonbitlang/core/builtin:string.mbt:452:9-452:40")}r=s+1|0,i=c+1|0;continue}else return c>=e}}function Tf(t,e,n,o){let $=0,r=o;for(;(r-1|0)>=n&&$<e;){const i=r-1|0,s=t.charCodeAt(i);$t(s)?r=r-2|0:r=r-1|0,$=$+1|0;continue}return $<e||r<n?void 0:r}function If(t,e,n,o){if(n>=0&&n<=o){let $=n,r=0;for(;$<o&&r<e;){const i=$,s=t.charCodeAt(i);xt(s)?$=$+2|0:$=$+1|0,r=r+1|0;continue}return r<e||$>=o?void 0:$}else return ff("Invalid start index","@moonbitlang/core/builtin:string.mbt:327:5-327:33")}function y(t,e,n,o){let $;return o===void 0?$=t.length:$=o,e>=0?If(t,e,n,$):Tf(t,-e|0,n,$)}function ho(t,e){const n=t;n.val=`${n.val}${q(e)}`}function Lf(t,e){const n=t.end-t.start|0,o=e.end-e.start|0;if(o>0)if(n>=o){const $=z(256,o),r=o-1|0;let i=0;for(;;){const c=i;if(c<r){const _=e.str,a=e.start+c|0,u=_.charCodeAt(a)&255;g($,u),$[u]=(o-1|0)-c|0,i=c+1|0;continue}else break}let s=0;for(;;){const c=s;if(c<=(n-o|0)){const _=o-1|0;let a=0;for(;;){const d=a;if(d<=_){const p=c+d|0,m=t.str,w=t.start+p|0,C=m.charCodeAt(w),j=e.str,M=e.start+d|0,k=j.charCodeAt(M);if(C!==k)break;a=d+1|0;continue}else return c}const u=(c+o|0)-1|0,l=t.str,f=t.start+u|0,h=l.charCodeAt(f)&255;g($,h),s=c+$[h]|0;continue}else break}return}else return;else return Ul}function Pf(t,e){const n=t.end-t.start|0,o=e.end-e.start|0;if(o>0)if(n>=o){const r=e.str,i=e.start+0|0,s=r.charCodeAt(i),c=n-o|0;let _=0;for(;_<=c;){for(;;){let a;if(_<=c){const u=_,l=t.str,f=t.start+u|0;a=l.charCodeAt(f)!==s}else a=!1;if(a){_=_+1|0;continue}else break}if(_<=c){let a=1;for(;;){const u=a;if(u<o){const l=_+u|0,f=t.str,h=t.start+l|0,d=f.charCodeAt(h),p=e.str,m=e.start+u|0,w=p.charCodeAt(m);if(d!==w)break;a=u+1|0;continue}else return _}_=_+1|0}continue}return}else return;else return Vl}function Fe(t,e){return(e.end-e.start|0)<=4?Pf(t,e):Lf(t,e)}function zf(t,e){const n=t.end-t.start|0,o=e.end-e.start|0;if(o>0)if(n>=o){const $=z(256,o);let r=o-1|0;for(;;){const s=r;if(s>0){const c=e.str,_=e.start+s|0,a=c.charCodeAt(_)&255;g($,a),$[a]=s,r=s-1|0;continue}else break}let i=n-o|0;for(;;){const s=i;if(s>=0){let c=0;for(;;){const l=c;if(l<o){const f=s+l|0,h=t.str,d=t.start+f|0,p=h.charCodeAt(d),m=e.str,w=e.start+l|0,C=m.charCodeAt(w);if(p!==C)break;c=l+1|0;continue}else return s}const _=t.str,a=t.start+s|0,u=_.charCodeAt(a)&255;g($,u),i=s-$[u]|0;continue}else break}return}else return;else return n}function dn(t,e){return Fe({str:t,start:0,end:t.length},e)}function Df(t,e){const n=qf(t);for(;;){const o=Pd(n);if(o===void 0)break;{const r=o,i=r._0,s=r._1;if(e(s))return i;continue}}}function Ff(t,e){return Df({str:t,start:0,end:t.length},e)}function Nf(t,e){const n=t.end-t.start|0,o=e.end-e.start|0;if(o>0)if(n>=o){const r=e.str,i=e.start+0|0,s=r.charCodeAt(i);let c=n-o|0;for(;c>=0;){for(;;){let _;if(c>=0){const a=c,u=t.str,l=t.start+a|0;_=u.charCodeAt(l)!==s}else _=!1;if(_){c=c-1|0;continue}else break}if(c>=0){let _=1;for(;;){const a=_;if(a<o){const u=c+a|0,l=t.str,f=t.start+u|0,h=l.charCodeAt(f),d=e.str,p=e.start+a|0,m=d.charCodeAt(p);if(h!==m)break;_=a+1|0;continue}else return c}c=c-1|0}continue}return}else return;else return n}function Bf(t,e){return(e.end-e.start|0)<=4?Nf(t,e):zf(t,e)}function Vf(t,e){const n=Bf(t,e);return n===void 0?!1:n===((t.end-t.start|0)-(e.end-e.start|0)|0)}function bo(t,e){return Vf({str:t,start:0,end:t.length},e)}function Uf(t,e){const n=Fe(t,e);return n===void 0?!1:n===0}function at(t,e){return Uf({str:t,start:0,end:t.length},e)}function Jf(t,e){Ot(t,e)}function po(t,e){Ot(t,e)}function di(t,e){Ot(t,e)}function Ne(t,e){Ot(t,e)}function hn(t,e){Ot(t,e)}function hi(t,e){Ot(t,e)}function bi(t,e){Ot(t,e)}function Hf(t,e){Ot(t,e)}function Bt(t){return t()}function bn(t){return t()}function go(t){return t()}function pi(t){return t()}function Wf(t){return t()}function Kf(t){return t()}function gi(t){return t()}function pn(t,e){return Fe(t,e)!==void 0}function Xf(t,e){return pn({str:t,start:0,end:t.length},e)}function ki(t,e){const n=t.end-t.start|0;if(n>0){const o=e;if(o<=65535){let $=0;for(;;){const r=$;if(r<n){const i=t.str,s=t.start+r|0;if(i.charCodeAt(s)===o)return!0;$=r+1|0;continue}else break}}else if(n>=2){const $=o-65536|0,r=55296+($>>10)|0,i=56320+($&1023)|0;let s=0;for(;s<(n-1|0);){const c=s,_=t.str,a=t.start+c|0;if(_.charCodeAt(a)===r){s=s+1|0;const u=s,l=t.str,f=t.start+u|0;if(l.charCodeAt(f)===i)return!0}s=s+1|0;continue}}else return!1;return!1}else return!1}function Qf(t,e){let n=t;for(;;){const o=n;if(te(o.str,0,o.start,o.end))return o;{const $=P(o.str,y(o.str,0,o.start,o.end)),r=o.str,i=y(o.str,1,o.start,o.end);let s;i===void 0?s=o.end:s=i;const _={str:r,start:s,end:o.end};if(ki(e,$)){n=_;continue}else return o}}}function Gf(t,e){let n=t;for(;;){const o=n;if(te(o.str,0,o.start,o.end))return o;{const $=P(o.str,y(o.str,-1,o.start,o.end)),r={str:o.str,start:o.start,end:y(o.str,-1,o.start,o.end)};if(ki(e,$)){n=r;continue}else return o}}}function Yf(t,e){return Gf(Qf(t,e),e)}function Zf(t,e){return Yf({str:t,start:0,end:t.length},e)}function U(t,e){let n;return n={str:wr,start:0,end:wr.length},Zf(t,n)}function ee(t){return(t.end-t.start|0)===0}function ge(t){const e=t.length,n={val:0};return()=>{if(n.val<e){const $=n.val,r=t.charCodeAt($);if(xt(r)&&(n.val+1|0)<e){const i=n.val+1|0,s=t.charCodeAt(i);if($t(s)){const c=pe(r,s);return n.val=n.val+2|0,c}}return n.val=n.val+1|0,r}else return-1}}function tm(t,e){return()=>{const n=go(t);if(n!==void 0)return e(n)}}function em(t,e){return()=>{const n=Bt(t);if(n!==-1)return e(n)}}function Be(t){return String.fromCodePoint(t)}function nm(t,e){const n=e.end-e.start|0;if(n===0)return em(mi(t),r=>H(Be(r),0,void 0));const o={val:t};return()=>{const r=o.val;if(r!==void 0){const s=r,c=Fe(s,e);if(c===void 0)return o.val=void 0,s;{const a=c;return o.val=Yt(s,a+n|0,void 0),Yt(s,0,a)}}}}function wi(t,e){return nm({str:t,start:0,end:t.length},e)}function om(t){const e=[];for(;;){const n=gi(t);if(n===void 0)break;hn(e,n)}return e}function vi(t){return t>=65&&t<=90}function yi(t){const e=Ff(t,n=>vi(n));if(e===void 0)return t;{const o=e,$=G(t.length),r=H(t,0,o);_i($,r.str,r.start,r.end-r.start|0);const i=mi(H(t,o,void 0));for(;;){const s=Bt(i);if(s===-1)break;{const _=s;vi(_)?O($,_+32|0):O($,_);continue}}return $.val}}function St(t,e){if(e>=0&&e<t.length){const n=t.charCodeAt(e);if(xt(n))if((e+1|0)<t.length){const o=e+1|0,$=t.charCodeAt(o);return $t($)?pe(n,$):-1}else return-1;else return $t(n)?-1:n}else return-1}function gn(t,e){if(e>=0&&e<(t.end-t.start|0)){const n=t.str,o=t.start+e|0,$=n.charCodeAt(o);if(xt($))if((e+1|0)<(t.end-t.start|0)){const r=e+1|0,i=t.str,s=t.start+r|0,c=i.charCodeAt(s);return $t(c)?pe($,c):-1}else return-1;else return $t($)?-1:$}else return-1}function xi(t,e){e.method_table.method_0(e.self,mt(t,10))}function $m(t){const e={val:0};return()=>{if(e.val<(t.end-t.start|0)){const o=t.buf[t.start+e.val|0];return e.val=e.val+1|0,o}else return}}function rm(t){const e={val:0};return()=>{if(e.val<(t.end-t.start|0)){const o=t.buf[t.start+e.val|0];return e.val=e.val+1|0,o}else return}}function kn(t){return $m({buf:t,start:0,end:t.length})}function im(t){return rm({buf:t,start:0,end:t.length})}function wn(t,e){if(t!==void 0)return e(t)}function N(t){return t>=0?t<=1?1:t>1073741824?1073741824:(2147483647>>(Math.clz32(t-1|0)-1|0))+1|0:R()}function sm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function cm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function _m(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function am(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function um(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function lm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function fm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function mm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function dm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function Si(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function hm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function bm(t){const e=N(t),n=e-1|0,o=(Math.imul(e,13)|0)/16|0;return{entries:z(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function pm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function gm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function km(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function wm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function vm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function ym(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function xm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Sm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Mm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Cm(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Em(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Am(t,e,n){const o=t.tail;if(o===-1)t.head=n;else{const r=t.entries;g(r,o);const i=r[o];let s;i===void 0?s=R():s=i,s.next=n}t.tail=e;const $=t.entries;g($,e),$[e]=n,t.size=t.size+1|0}function Mi(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ci(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ei(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function ko(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ai(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function ji(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function qi(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ri(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Oi(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ti(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function wo(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function Ii(t,e,n){const o=t.entries;g(o,n),o[n]=e;const $=e.next;if($===void 0){t.tail=n;return}else{const i=$;i.prev=n;return}}function jm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Mi(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Mi(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function qm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ci(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ci(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Rm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ei(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ei(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Om(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,ko(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,ko(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Tm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ai(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ai(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Im(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,ji(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,ji(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Lm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,qi(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,qi(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Pm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ri(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ri(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function zm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Oi(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Oi(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Dm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ti(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ti(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Fm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,wo(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,wo(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Nm(t,e,n){let o=n.psl+1|0,$=e+1&t.capacity_mask,r=n;for(;;){const i=o,s=$,c=r,_=t.entries;g(_,s);const a=_[s];if(a===void 0){c.psl=i,Ii(t,c,s);break}else{const l=a;if(i>l.psl){c.psl=i,Ii(t,c,s),o=l.psl+1|0,$=s+1&t.capacity_mask,r=l;continue}else{o=i+1|0,$=s+1&t.capacity_mask;continue}}}}function Li(t,e,n,o){t.size>=t.grow_at&&Bm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){jm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};pm(t,s,u)}function Pi(t,e,n,o){t.size>=t.grow_at&&Vm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){qm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};gm(t,s,u)}function zi(t,e,n,o){t.size>=t.grow_at&&Um(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Rm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};km(t,s,u)}function Di(t,e,n,o){t.size>=t.grow_at&&Jm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Om(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};wm(t,s,u)}function Fi(t,e,n,o){t.size>=t.grow_at&&Hm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Tm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};vm(t,s,u)}function Ni(t,e,n,o){t.size>=t.grow_at&&Wm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Im(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};ym(t,s,u)}function Bi(t,e,n,o){t.size>=t.grow_at&&Km(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Lm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};xm(t,s,u)}function Vi(t,e,n,o){t.size>=t.grow_at&&Xm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Pm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};Sm(t,s,u)}function Ui(t,e,n,o){t.size>=t.grow_at&&Qm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){zm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};Mm(t,s,u)}function Ji(t,e,n,o){t.size>=t.grow_at&&Gm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Dm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};Cm(t,s,u)}function Hi(t,e,n,o){t.size>=t.grow_at&&Ym(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Fm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};Em(t,s,u)}function Wi(t,e,n,o){t.size>=t.grow_at&&Zm(t);let $,r=0,i=o&t.capacity_mask;for(;;){const l=r,f=i,h=t.entries;g(h,f);const d=h[f];if(d===void 0){$={_0:f,_1:l};break}else{const m=d;if(m.hash===o&&m.key===e){m.value=n;return}if(l>m.psl){Nm(t,f,m),$={_0:f,_1:l};break}r=l+1|0,i=f+1&t.capacity_mask;continue}}const s=$._0,c=$._1,u={prev:t.tail,next:void 0,psl:c,hash:o,key:e,value:n};Am(t,s,u)}function Bm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Li(t,_,a,u),$=c;continue}}}function Vm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Pi(t,_,a,u),$=c;continue}}}function Um(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;zi(t,_,a,u),$=c;continue}}}function Jm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Di(t,_,a,u),$=c;continue}}}function Hm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Fi(t,_,a,u),$=c;continue}}}function Wm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Ni(t,_,a,u),$=c;continue}}}function Km(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Bi(t,_,a,u),$=c;continue}}}function Xm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Vi(t,_,a,u),$=c;continue}}}function Qm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Ui(t,_,a,u),$=c;continue}}}function Gm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Ji(t,_,a,u),$=c;continue}}}function Ym(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Hi(t,_,a,u),$=c;continue}}}function Zm(t){const e=t.head,n=t.capacity<<1;t.entries=z(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const o=t.capacity;t.grow_at=(Math.imul(o,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let $=e;for(;;){const r=$;if(r===void 0)return;{const s=r,c=s.next,_=s.key,a=s.value,u=s.hash;Wi(t,_,a,u),$=c;continue}}}function td(t,e,n){Li(t,e,n,Y(e))}function Ki(t,e,n){Pi(t,e,n,Y(e))}function ed(t,e,n){zi(t,e,n,Y(e))}function nd(t,e,n){Di(t,e,n,Y(e))}function od(t,e,n){Fi(t,e,n,Ft(e))}function $d(t,e,n){Ni(t,e,n,Ft(e))}function rd(t,e,n){Bi(t,e,n,Y(e))}function id(t,e,n){Vi(t,e,n,Ft(e))}function vn(t,e,n){Ui(t,e,n,Ft(e))}function ke(t,e,n){Ji(t,e,n,Ft(e))}function sd(t,e,n){Hi(t,e,n,Y(e))}function cd(t,e,n){Wi(t,e,n,Y(e))}function _d(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),sm(n)}function ad(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),cm(n)}function ud(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),_m(n)}function ld(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),am(n)}function fd(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),um(n)}function md(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),lm(n)}function dd(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),fm(n)}function hd(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),mm(n)}function vo(t){const e=t.end-t.start|0;let n=N(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const $=dm(n),r=t.end-t.start|0;let i=0;for(;;){const s=i;if(s<r){const c=t.buf[t.start+s|0];vn($,c._0,c._1),i=s+1|0;continue}else break}return $}function Mt(t){const e=t.end-t.start|0;let n=N(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const $=Si(n),r=t.end-t.start|0;let i=0;for(;;){const s=i;if(s<r){const c=t.buf[t.start+s|0];ke($,c._0,c._1),i=s+1|0;continue}else break}return $}function bd(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),hm(n)}function pd(t){const e=t.end-t.start|0;let n=N(e);return e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0),bm(n)}function gd(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function kd(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function wd(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function vd(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function yd(t,e){const n=Ft(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Xi(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Qi(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Gi(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Ct(t,e){const n=Ft(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return;{const a=c;if(a.hash===n&&a.key===e)return a.value;if(r>a.psl)return;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function xd(t,e){const n=Y(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return!1;{const a=c;if(a.hash===n&&a.key===e)return!0;if(r>a.psl)return!1;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Sd(t,e){const n=Ft(e);let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)return!1;{const a=c;if(a.hash===n&&a.key===e)return!0;if(r>a.psl)return!1;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Md(t,e){const n=e.prev;if(n===-1)t.head=e.next;else{const $=t.entries;g($,n);const r=$[n];let i;r===void 0?i=R():i=r;const s=i;s.next=e.next}const o=e.next;if(o===void 0){t.tail=e.prev;return}else{const r=o;r.prev=e.prev;return}}function Cd(t,e){const n=e.prev;if(n===-1)t.head=e.next;else{const $=t.entries;g($,n);const r=$[n];let i;r===void 0?i=R():i=r;const s=i;s.next=e.next}const o=e.next;if(o===void 0){t.tail=e.prev;return}else{const r=o;r.prev=e.prev;return}}function Ed(t,e){let n=e;for(;;){const o=n,$=o+1&t.capacity_mask;t:{const i=t.entries;g(i,$);const s=i[$];if(s===void 0)break t;{const _=s;if(_.psl===0)break t;_.psl=_.psl-1|0,ko(t,_,o),n=$;continue}}const r=t.entries;g(r,o),r[o]=void 0;return}}function Ad(t,e){let n=e;for(;;){const o=n,$=o+1&t.capacity_mask;t:{const i=t.entries;g(i,$);const s=i[$];if(s===void 0)break t;{const _=s;if(_.psl===0)break t;_.psl=_.psl-1|0,wo(t,_,o),n=$;continue}}const r=t.entries;g(r,o),r[o]=void 0;return}}function jd(t,e,n){let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)break;{const a=c;if(a.hash===n&&a.key===e){Md(t,a),Ed(t,i),t.size=t.size-1|0;break}if(r>a.psl)break;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function qd(t,e,n){let o=0,$=n&t.capacity_mask;for(;;){const r=o,i=$,s=t.entries;g(s,i);const c=s[i];if(c===void 0)break;{const a=c;if(a.hash===n&&a.key===e){Cd(t,a),Ad(t,i),t.size=t.size-1|0;break}if(r>a.psl)break;o=r+1|0,$=i+1&t.capacity_mask;continue}}}function Rd(t,e){jd(t,e,Y(e))}function Yi(t,e){qd(t,e,Y(e))}function Zi(t){const e={val:t.head};return()=>{const o=e.val;if(o!==void 0){const r=o,i=r.key,s=r.value,c=r.next;return e.val=c,{_0:i,_1:s}}}}function Od(t){const e={val:t.head};return()=>{const o=e.val;if(o!==void 0){const r=o,i=r.key,s=r.value,c=r.next;return e.val=c,{_0:i,_1:s}}}}function Td(t){return Zi(t)}function Id(t){return{hi:0,lo:t}}function ts(t){return Id(t)}function es(t){return el(t)}function Ve(t){return nl(t)}function Ld(t,e){return()=>{for(;;){const n=go(t);if(n===void 0)return;{const $=n;if(e($))return $;continue}}}}function Pd(t){return Wf(t)}function zd(t){return pi(t)}function Dd(t){t:{if(t>=0&&t<=55295)break t;if(t>=57344&&t<=1114111)break t;return-1}return t}function Fd(t){return t.lo}function ns(t){return Fd(t)&255}function yn(t){return _t(t)}function Nd(t){return t.lo===0?{hi:~t.hi+1|0,lo:0}:{hi:~t.hi,lo:~t.lo+1|0}}function os(t,e,n){const o=t.hi,$=t.lo,r=$+n|0,i=r>>31,s=$>>31,c=n>>31,_=(s&c|~i&(s^c))&1;return{hi:(o+e|0)+_|0,lo:r}}function $s(t,e){return os(t,e.hi,e.lo)}function rs(t,e){return e.lo===0?{hi:t.hi-e.hi|0,lo:t.lo}:os(t,~e.hi,~e.lo+1|0)}function is(t,e){const n=t.hi,o=t.lo,$=e.hi,r=e.lo,i=n,s=o,c=$,_=r,a=i>>>16|0,u=i&65535,l=s>>>16|0,f=s&65535,h=c>>>16|0,d=c&65535,p=_>>>16|0,m=_&65535,w=Math.imul(f,m)|0,C=w>>>16|0,j=w&65535,M=(C>>>0)+((Math.imul(l,m)|0)>>>0)|0,k=M>>>16|0,S=((M&65535)>>>0)+((Math.imul(f,p)|0)>>>0)|0,b=(k>>>0)+((S>>>16|0)>>>0)|0,E=S&65535,x=(b>>>0)+((Math.imul(u,m)|0)>>>0)|0,T=x>>>16|0,vt=((x&65535)>>>0)+((Math.imul(l,p)|0)>>>0)|0,Ht=(T>>>0)+((vt>>>16|0)>>>0)|0,Pn=((vt&65535)>>>0)+((Math.imul(f,d)|0)>>>0)|0,n$=(Ht>>>0)+((Pn>>>16|0)>>>0)|0,Oc=Pn&65535;return{hi:(((((((((n$>>>0)+((Math.imul(a,m)|0)>>>0)|0)>>>0)+((Math.imul(u,p)|0)>>>0)|0)>>>0)+((Math.imul(l,d)|0)>>>0)|0)>>>0)+((Math.imul(f,h)|0)>>>0)|0)&65535)<<16|Oc,lo:E<<16|j}}function ss(){return Gt.tried||(Gt.tried=!0,Gt.exports=ol()),Gt.exports!==void 0}function Bd(t,e){if(e.hi===0&&e.lo===0)return R();{if(!ss())return $l(t,e);const n=Gt.exports;if(n===void 0)return R();{const $=n,r=t.hi,i=t.lo,s=e.hi,c=e.lo,_=$.div_s,a=_(i,r,c,s),u=$.get_high;return{hi:u(),lo:a}}}}function Vd(t,e){if(e.hi===0&&e.lo===0)return R();{if(!ss())return rl(t,e);const n=Gt.exports;if(n===void 0)return R();{const $=n,r=t.hi,i=t.lo,s=e.hi,c=e.lo,_=$.div_u,a=_(i,r,c,s),u=$.get_high;return{hi:u(),lo:a}}}}function cs(t,e){return{hi:t.hi&e.hi,lo:t.lo&e.lo}}function Ud(t,e){return{hi:t.hi|e.hi,lo:t.lo|e.lo}}function _s(t,e){const n=e&63;if(n===0)return t;if(n<32){const o=t.hi,$=t.lo,r=o,i=$,s=r<<n|(i>>>(32-n|0)|0),c=i<<n;return{hi:s,lo:c}}else return{hi:t.lo<<(n-32|0),lo:0}}function Jd(t,e){const n=e&63;return n===0?t:n<32?{hi:t.hi>>>n|0,lo:t.lo>>>n|t.hi<<(32-n|0)}:{hi:0,lo:t.hi>>>(n-32|0)|0}}function Hd(t,e){const n=e&63;return n===0?t:n<32?{hi:t.hi>>n,lo:t.lo>>>n|t.hi<<(32-n|0)}:{hi:t.hi>>31,lo:t.hi>>(n-32|0)}}function as(t){return Nd(t)}function kt(t,e){return $s(t,e)}function Ue(t,e){return rs(t,e)}function ne(t,e){return is(t,e)}function Vt(t,e){return Bd(t,e)}function us(t,e){return cs(t,e)}function ls(t,e){return Ud(t,e)}function Wd(t,e){return Hd(t,e)}function oe(t,e){return _s(t,e)}function fs(t,e){const n=t,o=e;return n.hi===o.hi&&n.lo===o.lo}function xn(t,e){return il(t,e)}function $e(t){return t.lo}function Kd(t){return cl(t)}function Xd(t){return Kd(t)}function Sn(t,e){return $s(t,e)}function Qd(t,e){return rs(t,e)}function re(t,e){return is(t,e)}function Gd(t,e){return Vd(t,e)}function Mn(t,e){return sl(t,e)}function we(t,e){const n=t,o=e;return n.hi===o.hi&&n.lo===o.lo}function ms(t,e){return cs(t,e)}function ds(t,e){return _s(t,e)}function Cn(t,e){return Jd(t,e)}function hs(t){const e=t;return e.hi!==0?Math.clz32(e.hi):32+Math.clz32(e.lo)|0}function Yd(t,e){const n=e.length;let o=0;for(;;){const $=o;if($<n){ei(t,e.charCodeAt($)),o=$+1|0;continue}else return}}function Zd(t,e){Yd(e,t)}function th(t,e){bf(e,t)}function yo(t){return t!==t?0:t>=2147483647?2147483647:t<=-2147483648?-2147483648:t|0}function eh(t){const e=t;return e>=0&&e<=255?Nt(e&255):e<=65535?`${Nt(e>>8&255)}${Nt(e&255)}`:`${Nt(e>>16&255)}${Nt(e>>8&255)}${Nt(e&255)}`}function nh(t){return t>=0&&t<=31?!0:t>=127&&t<=159}function oh(t){if(nh(t))return!1;const e=t;t:{e:{if(e>=57344&&e<=63743)break e;if(e>=983040&&e<=1048573)break e;if(e>=1048576&&e<=1114109)break e;break t}return!1}t:{e:{if(e===173)break e;if(e>=1536&&e<=1541)break e;if(e===1564)break e;if(e===1757)break e;if(e===1807)break e;if(e>=2192&&e<=2193)break e;if(e===2274)break e;if(e===6158)break e;if(e>=8203&&e<=8207)break e;if(e>=8234&&e<=8238)break e;if(e>=8288&&e<=8292)break e;if(e>=8294&&e<=8303)break e;if(e===65279)break e;if(e>=65529&&e<=65531)break e;if(e===69821)break e;if(e===69837)break e;if(e>=78896&&e<=78911)break e;if(e>=113824&&e<=113827)break e;if(e>=119155&&e<=119162)break e;if(e===917505)break e;if(e>=917536&&e<=917631)break e;break t}return!1}if(55296<=e&&e<=57343||e===8232||e===8233)return!1;t:{e:{if(e>=64976&&e<=65007)break e;if(e>=65534&&e<=65535)break e;if(e>=131070&&e<=131071)break e;if(e>=196606&&e<=196607)break e;if(e>=262142&&e<=262143)break e;if(e>=327678&&e<=327679)break e;if(e>=393214&&e<=393215)break e;if(e>=458750&&e<=458751)break e;if(e>=524286&&e<=524287)break e;if(e>=589822&&e<=589823)break e;if(e>=655358&&e<=655359)break e;if(e>=720894&&e<=720895)break e;if(e>=786430&&e<=786431)break e;if(e>=851966&&e<=851967)break e;if(e>=917502&&e<=917503)break e;if(e>=983038&&e<=983039)break e;if(e>=1048574&&e<=1048575)break e;if(e>=1114110&&e<=1114111)break e;break t}return!1}return!0}function bs(t,e){e.method_table.method_3(e.self,39);t:{e:{if(t===39)break e;if(t===92)break e;t===10?e.method_table.method_0(e.self,"\\n"):t===13?e.method_table.method_0(e.self,"\\r"):t===8?e.method_table.method_0(e.self,"\\b"):t===9?e.method_table.method_0(e.self,"\\t"):t>=32&&t<=126||oh(t)?e.method_table.method_3(e.self,t):(e.method_table.method_0(e.self,"\\u{"),e.method_table.method_0(e.self,eh(t)),e.method_table.method_3(e.self,125));break t}e.method_table.method_3(e.self,92),e.method_table.method_3(e.self,t)}e.method_table.method_3(e.self,39)}function $h(t,e){const n=t.pkg,o=n.str,$=n.start,r=$+(n.end-n.start|0)|0;let i=$,s=-1,c=-1,_=-1,a=-1,u;t:{e:{for(;;)if(i<r)n:{$:{const h=i,d=o.charCodeAt(h);if(i=i+1|0,d<55296){if(d<47)break $;if(d>47)break $;for(;;)if(a=i,i<r){o:{const p=i,m=o.charCodeAt(p);if(i=i+1|0,m<55296){if(m<47)break o;if(m>47)break o;for(;;)if(i<r){r:{const w=i,C=o.charCodeAt(w);if(i=i+1|0,C<56319){if(C<55296)break r;if(i<r){const j=i,M=o.charCodeAt(j);if(i=i+1|0,M<56320)break e;if(M>65535)break e;continue}else break e}else if(C>56319){if(C<65536)break r;break e}else if(i<r){const j=i,M=o.charCodeAt(j);if(i=i+1|0,M<56320)break e;if(M>57343)break e;continue}else break e}continue}else{_=a,s=0,c=i;break e}}else if(m>56318)if(m<57344)if(i<r){const w=i,C=o.charCodeAt(w);if(i=i+1|0,C<56320)break e;if(C>57343)break e;continue}else break e;else{if(m>65535)break e;break o}else if(i<r){const w=i,C=o.charCodeAt(w);if(i=i+1|0,C<56320)break e;if(C>65535)break e;continue}else break e}continue}else break e}else if(d>56318)if(d<57344)if(i<r){const p=i,m=o.charCodeAt(p);if(i=i+1|0,m<56320)break e;if(m>57343)break e;continue}else break e;else{if(d>65535)break e;break $}else if(i<r){const p=i,m=o.charCodeAt(p);if(i=i+1|0,m<56320)break e;if(m>65535)break e;continue}else break e;break n}continue}else break e;break t}if(s===0){let h;e:{n:{const p=ft(o,_+1|0,c);if(p.$tag===1)h=p._0;else{p._0;break n}break e}h=R()}let d;e:{n:{const p=ft(o,$,_);if(p.$tag===1)d=p._0;else{p._0;break n}break e}d=R()}u={_0:d,_1:h}}else u={_0:n,_1:void 0}}const l=u._0,f=u._1;if(f!==void 0){const d=f;e.method_table.method_2(e.self,d),e.method_table.method_3(e.self,47)}e.method_table.method_2(e.self,t.filename),e.method_table.method_3(e.self,58),e.method_table.method_2(e.self,t.start_line),e.method_table.method_3(e.self,58),e.method_table.method_2(e.self,t.start_column),e.method_table.method_3(e.self,45),e.method_table.method_2(e.self,t.end_line),e.method_table.method_3(e.self,58),e.method_table.method_2(e.self,t.end_column),e.method_table.method_3(e.self,64),e.method_table.method_2(e.self,l)}function rh(t,e){$h(df(t),e)}function ih(t,e){_l(t,e)}function sh(t){return al(t)}function ps(t){if(t.length!==0)return sh(t)}function ch(t,e){if(e<t.length){g(t,e);const n=t[e];return ul(t,e,1),n}else return lf(`index out of bounds: the len is from 0 to ${ai(t.length)} but the index is ${ai(e)}`,"@moonbitlang/core/builtin:arraycore_js.mbt:251:5-253:6")}function gs(t){ih(t,0)}function _h(t){return ll(t)}function ah(t,e){e.method_table.method_0(e.self,_h(t))}function uh(t,e){{t:{let n;e:{let o;n:{let $;$:if(D(t.str,2,t.start,t.end))if(P(t.str,y(t.str,0,t.start,t.end))===48)switch(P(t.str,y(t.str,1,t.start,t.end))){case 120:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,$={str:s,start:_,end:t.end};break $}case 88:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,$={str:s,start:_,end:t.end};break $}case 111:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,o={str:s,start:_,end:t.end};break n}case 79:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,o={str:s,start:_,end:t.end};break n}case 98:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,n={str:s,start:_,end:t.end};break e}case 66:{const s=t.str,c=y(t.str,2,t.start,t.end);let _;c===void 0?_=t.end:_=c,n={str:s,start:_,end:t.end};break e}default:break t}else break t;else break t;return new je({_0:16,_1:$,_2:!0})}return new je({_0:8,_1:o,_2:!0})}return new je({_0:2,_1:n,_2:!0})}return new je({_0:10,_1:t,_2:!1})}}function En(){return new m$(new yt(vr))}function An(){return new on(new yt(vr))}function lh(){return new d$(new yt(de))}function Je(){return new on(new yt(de))}function xo(){return new Qn(new yt(de))}function fh(){return new b$(new yt(de))}function ks(){return new p$(new yt(de))}function ws(){return new g$(new yt(de))}function mh(t,e){return e?t===10?Vt(Yn,tt):t===16?Vt(Yn,w$):Vt(Yn,_t(t)):kt(t===10?Vt(Gn,tt):t===16?Vt(Gn,w$):Vt(Gn,_t(t)),st)}function vs(t,e){if(wf(t,{str:yr,start:0,end:yr.length})){let n,o;t:{e:{const f=Yt(t,0,void 0);if(D(f.str,1,f.start,f.end))switch(P(f.str,y(f.str,0,f.start,f.end))){case 43:{const d=f.str,p=y(f.str,1,f.start,f.end);let m;p===void 0?m=f.end:m=p,n={_0:!1,_1:{str:d,start:m,end:f.end}};break}case 45:{const d=f.str,p=y(f.str,1,f.start,f.end);let m;p===void 0?m=f.end:m=p,n={_0:!0,_1:{str:d,start:m,end:f.end}};break}default:{o=f;break e}}else{o=f;break e}break t}n={_0:!1,_1:o}}const $=n._0,r=n._1,i=uh(r);let s;if(i.$tag===1)s=i._0;else return i;const c=s._0,_=s._1,a=s._2,u=mh(c,$);let l;if(D(_.str,1,_.start,_.end)){const f=P(_.str,y(_.str,0,_.start,_.end));if(f>=48&&f<=57)l=!0;else if(f>=97&&f<=122)l=!0;else if(f>=65&&f<=90)l=!0;else if(D(_.str,2,_.start,_.end))if(f===95){const h=P(_.str,y(_.str,1,_.start,_.end));l=h>=48&&h<=57||h>=97&&h<=122?!0:h>=65&&h<=90}else l=!1;else l=!1}else l=!1;if(l){let f,h=_,d=V,p=a;for(;;){const m=h,w=d,C=p;let j,M,k;t:if(te(m.str,1,m.start,m.end)){const b=P(m.str,y(m.str,0,m.start,m.end));if(b===95){const E=Je();if(E.$tag===1){f=E._0;break}else return E}else{const E=m.str,x=y(m.str,1,m.start,m.end);let T;x===void 0?T=m.end:T=x;const vt={str:E,start:T,end:m.end};j=w,M=vt,k=b;break t}}else if(D(m.str,1,m.start,m.end)){const b=P(m.str,y(m.str,0,m.start,m.end));if(b===95)if(C===!1){const E=Je();if(E.$tag===1){f=E._0;break}else return E}else{const E=m.str,x=y(m.str,1,m.start,m.end);let T;x===void 0?T=m.end:T=x,h={str:E,start:T,end:m.end},p=!1;continue}else{const E=m.str,x=y(m.str,1,m.start,m.end);let T;x===void 0?T=m.end:T=x;const vt={str:E,start:T,end:m.end};j=w,M=vt,k=b;break t}}else{f=w;break}const A=k;let S;if(A>=48&&A<=57)S=A-48|0;else if(A>=97&&A<=122)S=A+-87|0;else if(A>=65&&A<=90)S=A+-55|0;else{const b=lh();if(b.$tag===1)S=b._0;else return b}if(S<c)if($)if(mo(j,u)){const b=Ue(ne(j,_t(c)),_t(S));if(ze(b,j)){h=M,d=b,p=!0;continue}else{const E=An();if(E.$tag===1){f=E._0;break}else return E}}else{const b=An();if(b.$tag===1){f=b._0;break}else return b}else if(fn(j,u)){const b=kt(ne(j,_t(c)),_t(S));if(mo(b,j)){h=M,d=b,p=!0;continue}else{const E=An();if(E.$tag===1){f=E._0;break}else return E}}else{const b=An();if(b.$tag===1){f=b._0;break}else return b}else{const b=Je();if(b.$tag===1){f=b._0;break}else return b}}return new Xn(f)}else return Je()}else return Je()}function ys(t,e){const n=vs(t);let o;if(n.$tag===1)o=n._0;else return n;if(fn(o,_t(-2147483648))||$i(o,_t(2147483647))){const $=En();if($.$tag===1)$._0;else return $}return new h$($e(o))}function dh(t){let e;if(D(t.str,1,t.start,t.end))switch(P(t.str,y(t.str,0,t.start,t.end))){case 43:{const p=t.str,m=y(t.str,1,t.start,t.end);let w;m===void 0?w=t.end:w=m,e={str:p,start:w,end:t.end};break}case 45:{const p=t.str,m=y(t.str,1,t.start,t.end);let w;m===void 0?w=t.end:w=m,e={str:p,start:w,end:t.end};break}default:e=t}else e=t;const n=e.str,o=e.start,$=o+(e.end-e.start|0)|0;let r=o,i=-1,s=-1,c;t:if((r+1|0)<$){const d=r,p=n.charCodeAt(d);if(r=r+1|0,p<49){if(p<48)break t;e:{n:{$:{const m=r,w=n.charCodeAt(m);if(r=r+1|0,w<98)if(w<79){if(w<66)break t;if(w>66)break t;break e}else if(w>79){if(w<88)break t;if(w>88)break t;break $}else break n;else if(w>98)if(w<120){if(w<111)break t;if(w>111)break t;break n}else{if(w>120)break t;break $}else break e}i=2,s=r;break t}i=1,s=r;break t}i=0,s=r;break t}else break t}else break t;switch(i){case 2:{let d;t:{e:{const p=ft(n,s,$);if(p.$tag===1)d=p._0;else{p._0;break e}break t}d=R()}c={_0:d,_1:!0,_2:!0};break}case 1:{let d;t:{e:{const p=ft(n,s,$);if(p.$tag===1)d=p._0;else{p._0;break e}break t}d=R()}c={_0:d,_1:!0,_2:!1};break}case 0:{let d;t:{e:{const p=ft(n,s,$);if(p.$tag===1)d=p._0;else{p._0;break e}break t}d=R()}c={_0:d,_1:!0,_2:!1};break}default:c={_0:e,_1:!1,_2:!1}}const _=c._0,a=c._1,u=c._2;let l=_,f=a,h=!1;for(;;){const d=l,p=f,m=h;let w,C,j;t:{if(te(d.str,0,d.start,d.end))return!0;if(te(d.str,1,d.start,d.end)){const M=P(d.str,y(d.str,0,d.start,d.end));if(M===95)return!1;{const k=d.str,A=y(d.str,1,d.start,d.end);let S;A===void 0?S=d.end:S=A,w={str:k,start:S,end:d.end},C=M,j=m;break t}}else{const M=P(d.str,y(d.str,0,d.start,d.end));if(M===95){if(p===!1)return!1;{const k=d.str,A=y(d.str,1,d.start,d.end);let S;A===void 0?S=d.end:S=A,l={str:k,start:S,end:d.end},f=!1,h=!0;continue}}else{const k=d.str,A=y(d.str,1,d.start,d.end);let S;A===void 0?S=d.end:S=A,w={str:k,start:S,end:d.end},C=M,j=m;break t}}}if(C>=48&&C<=57||u&&(C>=97&&C<=102||C>=65&&C<=70)){l=w,f=!0,h=!1;continue}else{if(j)return!1;l=w,f=!1,h=!1;continue}}}function hh(){return{digits:tl(800),digits_num:0,decimal_point:0,negative:!1,truncated:!1}}function So(t){for(;;){let e;if(t.digits_num>0){const n=t.digits,o=t.digits_num-1|0;g(n,o),e=n[o]===0}else e=!1;if(e){t.digits_num=t.digits_num-1|0;continue}else break}if(t.digits_num===0){t.decimal_point=0;return}else return}function bh(t){const e=hh();let n=!1,o=!1,$;t:{e:{if(D(t.str,1,t.start,t.end))switch(P(t.str,y(t.str,0,t.start,t.end))){case 45:{const c=t.str,_=y(t.str,1,t.start,t.end);let a;_===void 0?a=t.end:a=_;const l={str:c,start:a,end:t.end};e.negative=!0,$=l;break}case 43:{const c=t.str,_=y(t.str,1,t.start,t.end);let a;_===void 0?a=t.end:a=_,$={str:c,start:a,end:t.end};break}default:break e}else break e;break t}$=t}let r,i=$;for(;;){const s=i;if(D(s.str,1,s.start,s.end)){const c=P(s.str,y(s.str,0,s.start,s.end));if(c===95){const _=s.str,a=y(s.str,1,s.start,s.end);let u;a===void 0?u=s.end:u=a,i={str:_,start:u,end:s.end};continue}else if(c===46){const _=s.str,a=y(s.str,1,s.start,s.end);let u;a===void 0?u=s.end:u=a;const f={str:_,start:u,end:s.end};if(n){const h=ks();if(h.$tag===1){r=h._0;break}else return h}else{n=!0,e.decimal_point=e.digits_num,i=f;continue}}else if(c>=48&&c<=57){const _=s.str,a=y(s.str,1,s.start,s.end);let u;a===void 0?u=s.end:u=a;const f={str:_,start:u,end:s.end};if(o=!0,c===48&&e.digits_num===0){e.decimal_point=e.decimal_point-1|0,i=f;continue}if(e.digits_num<e.digits.length){const h=e.digits,d=e.digits_num;g(h,d),h[d]=(c-48|0)&255,e.digits_num=e.digits_num+1|0}else c!==48&&(e.truncated=!0);i=f;continue}else{r=s;break}}else{r=s;break}}if(o){n||(e.decimal_point=e.digits_num);let s,c;t:{e:{if(D(r.str,1,r.start,r.end))switch(P(r.str,y(r.str,0,r.start,r.end))){case 101:{const l=r.str,f=y(r.str,1,r.start,r.end);let h;f===void 0?h=r.end:h=f,c={str:l,start:h,end:r.end};break e}case 69:{const l=r.str,f=y(r.str,1,r.start,r.end);let h;f===void 0?h=r.end:h=f,c={str:l,start:h,end:r.end};break e}default:s=r}else s=r;break t}let _=1,a;if(D(c.str,1,c.start,c.end))switch(P(c.str,y(c.str,0,c.start,c.end))){case 43:{const l=c.str,f=y(c.str,1,c.start,c.end);let h;f===void 0?h=c.end:h=f,a={str:l,start:h,end:c.end};break}case 45:{const l=c.str,f=y(c.str,1,c.start,c.end);let h;f===void 0?h=c.end:h=f;const p={str:l,start:h,end:c.end};_=-1,a=p;break}default:a=c}else a=c;e:{n:{if(D(a.str,1,a.start,a.end)){const l=P(a.str,y(a.str,0,a.start,a.end));if(l>=48&&l<=57){let f=0,h,d=a;for(;;){const p=d;if(D(p.str,1,p.start,p.end)){const m=P(p.str,y(p.str,0,p.start,p.end));if(m===95){const w=p.str,C=y(p.str,1,p.start,p.end);let j;C===void 0?j=p.end:j=C,d={str:w,start:j,end:p.end};continue}else if(m>=48&&m<=57){const w=p.str,C=y(p.str,1,p.start,p.end);let j;C===void 0?j=p.end:j=C;const k={str:w,start:j,end:p.end};f=(Math.imul(f,10)|0)+(m-48|0)|0,d=k;continue}else{h=p;break}}else{h=p;break}}e.decimal_point=e.decimal_point+(Math.imul(_,f)|0)|0,s=h}else break n}else break n;break e}const u=ks();if(u.$tag===1)s=u._0;else return u}}return te(s.str,0,s.start,s.end)?(So(e),new k$(e)):ws()}else return ws()}function ph(t){return bh(t)}function gh(t){let e,n;t:{e:{if(D(t.str,1,t.start,t.end))switch(P(t.str,y(t.str,0,t.start,t.end))){case 45:{const u=t.str,l=y(t.str,1,t.start,t.end);let f;l===void 0?f=t.end:f=l,e={_0:!1,_1:{str:u,start:f,end:t.end}};break}case 43:{const u=t.str,l=y(t.str,1,t.start,t.end);let f;l===void 0?f=t.end:f=l,n={str:u,start:f,end:t.end};break e}default:{n=t;break e}}else{n=t;break e}break t}e={_0:!0,_1:n}}const o=e._0,$=e._1,r=$.str,i=$.start,s=i+($.end-$.start|0)|0;let c=i,_=-1;t:{e:if((c+2|0)<s){n:{$:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<105)if(u<74){if(u<73)break t;break n}else if(u>77){if(u<79)break $;break t}else break t;else if(u>105)if(u<111){if(u<110)break t;break $}else break t;else break n}$:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<97){if(u<65)break t;if(u>65)break t;break $}else{if(u>97)break t;break $}}$:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<110){if(u<78)break t;if(u>78)break t;break $}else{if(u>110)break t;break $}}if(c<s)break t;_=0;break t}n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<110){if(u<78)break t;if(u>78)break t;break n}else{if(u>110)break t;break n}}n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<102){if(u<70)break t;if(u>70)break t;break n}else{if(u>102)break t;break n}}if(c<s){n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<105){if(u<73)break t;if(u>73)break t;break n}else{if(u>105)break t;break n}}if((c+3|0)<s){n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<110){if(u<78)break t;if(u>78)break t;break n}else{if(u>110)break t;break n}}n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<105){if(u<73)break t;if(u>73)break t;break n}else{if(u>105)break t;break n}}n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<116){if(u<84)break t;if(u>84)break t;break n}else{if(u>116)break t;break n}}n:{const a=c,u=r.charCodeAt(a);if(c=c+1|0,u<121){if(u<89)break t;if(u>89)break t;break n}else{if(u>121)break t;break n}}if(c<s)break t;break e}else break t}else break e}else break t;_=1;break t}switch(_){case 0:return new Tt(Xl);case 1:return o?new Tt(fo):new Tt(lo);default:return xo()}}function kh(t,e,n){let o=e,$=0,r=t;for(;;){const i=r;if(D(i.str,1,i.start,i.end)){const s=P(i.str,y(i.str,0,i.start,i.end)),c=i.str,_=y(i.str,1,i.start,i.end);let a;_===void 0?a=i.end:a=_;const l={str:c,start:a,end:i.end};if(s>=48&&s<=57)$=$+1|0,o=n(s-48|0,o);else if(s!==95)break;r=l;continue}else break}return{_0:r,_1:o,_2:$}}function wh(t,e,n){let o=e,$=0,r=t;for(;;){const i=r;if(D(i.str,1,i.start,i.end)){const s=P(i.str,y(i.str,0,i.start,i.end)),c=i.str,_=y(i.str,1,i.start,i.end);let a;_===void 0?a=i.end:a=_;const l={str:c,start:a,end:i.end};if(s>=48&&s<=57)$=$+1|0,o=n(s-48|0,o);else if(s!==95)break;r=l;continue}else break}return{_0:r,_1:o,_2:$}}function xs(t,e){return kh(t,e,(n,o)=>Sn(re(o,tt),ts(n)))}function vh(t){let e=t,n=!1,o,$;t:{e:{const r=e;if(D(r.str,1,r.start,r.end)){const i=P(r.str,y(r.str,0,r.start,r.end));switch(i){case 43:{const s=r.str,c=y(r.str,1,r.start,r.end);let _;c===void 0?_=r.end:_=c,o={str:s,start:_,end:r.end},$=i;break e}case 45:{const s=r.str,c=y(r.str,1,r.start,r.end);let _;c===void 0?_=r.end:_=c,o={str:s,start:_,end:r.end},$=i;break e}}}break t}n=$===45,e=o}t:{const r=e;if(D(r.str,1,r.start,r.end)){const i=P(r.str,y(r.str,0,r.start,r.end));if(i>=48&&i<=57){const s=wh(e,Ll,(a,u)=>fn(u,fl)?kt(ne(tt,u),_t(a)):u),c=s._0,_=s._1;return n?{_0:c,_1:as(_)}:{_0:c,_1:_}}else break t}else break t}}function Ss(t,e){let n=e,o=0,$=t;for(;;){const r=$;let i;t:if(D(r.str,1,r.start,r.end)){const s=P(r.str,y(r.str,0,r.start,r.end));if(s>=48&&s<=57){const c=r.str,_=y(r.str,1,r.start,r.end);let a;_===void 0?a=r.end:a=_;const l={str:c,start:a,end:r.end};if(yf(n,xr)){o=o+1|0,n=Sn(re(n,tt),ts(s-48|0)),$=l;continue}else{i=r;break t}}else if(s===95){const c=r.str,_=y(r.str,1,r.start,r.end);let a;_===void 0?a=r.end:a=_,$={str:c,start:a,end:r.end};continue}else{i=r;break t}}else{i=r;break t}return{_0:i,_1:n,_2:o}}}function yh(t){let e,n;t:{e:{if(D(t.str,1,t.start,t.end))switch(P(t.str,y(t.str,0,t.start,t.end))){case 45:{const w=t.str,C=y(t.str,1,t.start,t.end);let j;C===void 0?j=t.end:j=C,e={_0:{str:w,start:j,end:t.end},_1:!0};break}case 43:{const w=t.str,C=y(t.str,1,t.start,t.end);let j;C===void 0?j=t.end:j=C,n={str:w,start:j,end:t.end};break e}default:{n=t;break e}}else{n=t;break e}break t}e={_0:n,_1:!1}}const o=e._0,$=e._1;if(ee(o))return new Kt(void 0);const r=xs(o,V),i=r._0,s=r._1,c=r._2;let _=s,a=i,u=c,l=0,f=V;const h=a;if(D(h.str,1,h.start,h.end)&&P(h.str,y(h.str,0,h.start,h.end))===46){const w=h.str,C=y(h.str,1,h.start,h.end);let j;C===void 0?j=h.end:j=C,a={str:w,start:j,end:h.end};const A=xs(a,_),S=A._0,b=A._1,E=A._2;a=S,_=b,l=E,f=as(_t(l))}if(u=u+l|0,u===0)return new Kt(void 0);let d;t:{e:{const M=a;if(D(M.str,1,M.start,M.end))switch(P(M.str,y(M.str,0,M.start,M.end))){case 101:{const A=M.str,S=y(M.str,1,M.start,M.end);let b;S===void 0?b=M.end:b=S,d={str:A,start:b,end:M.end};break e}case 69:{const A=M.str,S=y(M.str,1,M.start,M.end);let b;S===void 0?b=M.end:b=S,d={str:A,start:b,end:M.end};break e}}break t}const m=vh(d);let w;if(m===void 0)return new Kt(void 0);w=m;const C=w._0,j=w._1;a=C,f=kt(f,j)}const p=a;if(te(p.str,0,p.start,p.end)){if(u<=19)return new Kt({exponent:f,mantissa:_,negative:$,many_digits:!1});u=u-19|0;let m=!1,w=t.str,C=t.start,j=t.end;t:for(;;){const k=w,A=C,S=j;let b,E;e:if(D(k,1,A,S)){const x=P(k,y(k,0,A,S));switch(x){case 48:{const T=y(k,1,A,S);let B;T===void 0?B=S:B=T,b={str:k,start:B,end:S},E=x;break e}case 46:{const T=y(k,1,A,S);let B;T===void 0?B=S:B=T,b={str:k,start:B,end:S},E=x;break e}default:break t}}else break;u=u-((E-46|0)/2|0)|0,w=b.str,C=b.start,j=b.end}let M=_;if(u>0){m=!0,M=V;const k=Ss(t,M),A=k._0,S=k._1,b=k._2;M=S;let E;if(Sf(M,xr))E=b;else if(D(A.str,1,A.start,A.end)){const x=A.str,T=y(A.str,1,A.start,A.end);let B;T===void 0?B=A.end:B=T;const Ht={str:x,start:B,end:A.end},e$=Ss(Ht,M),Pn=e$._1,n$=e$._2;M=Pn,E=n$}else return new Kt(void 0);f=_t(E),f=kt(f,Pl)}return new Kt({exponent:f,mantissa:M,negative:$,many_digits:m})}else return fh()}function Ms(t,e,n){const o=e-Q.bias|0;let $=us(t,Ue(oe(st,Q.mantissa_bits),st));const r=_t(o&((1<<Q.exponent_bits)-1|0));return $=ls($,oe(r,Q.mantissa_bits)),n&&($=ls($,oe(oe(st,Q.mantissa_bits),Q.exponent_bits))),$}function xh(t,e){if(e<0||e>=t.digits_num)return!1;let n;const o=t.digits;if(g(o,e),o[e]===5?n=(e+1|0)===t.digits_num:n=!1,n){if(t.truncated)return!0;let r;if(e>0){const i=t.digits,s=e-1|0;g(i,s),r=(i[s]%2|0)!==0}else r=!1;return r}const $=t.digits;return g($,e),$[e]>=5}function Sh(t){if(t.decimal_point>20)return r$;let e=V,n=0;for(;n<t.decimal_point&&n<t.digits_num;){const o=ne(e,tt),$=t.digits,r=n;g($,r),e=kt(o,yn($[r])),n=n+1|0;continue}for(;n<t.decimal_point;){e=ne(e,tt),n=n+1|0;continue}return xh(t,t.decimal_point)&&(e=kt(e,st)),e}function Mh(t,e){g(_n,e);const n=_n[e]._0;g(_n,e);const o=_n[e]._1;let $=!1;const r=o.length;let i=0;for(;;){const s=i;if(s<r){if(s>=t.digits_num){$=!0;break}const c=o.charCodeAt(s)-48|0,_=t.digits;if(g(_,s),_[s]!==c){const a=t.digits;g(a,s),$=a[s]<c;break}i=s+1|0;continue}else break}return $?n-1|0:n}function Cs(t,e){const n=Mh(t,e);let o=t.digits_num,$=t.digits_num+n|0,r=V;for(o=o-1|0;o>=0;){const i=t.digits,s=o;g(i,s);const c=yn(i[s]);r=kt(r,oe(c,e));const _=Vt(r,tt),a=$e(Ue(r,ne(_,tt)));if($=$-1|0,$<t.digits.length){const u=t.digits,l=$;g(u,l),u[l]=a&255}else a!==0&&(t.truncated=!0);r=_,o=o-1|0;continue}for(;$i(r,V);){const i=Vt(r,tt),s=$e(Ue(r,ne(tt,i)));if($=$-1|0,$<t.digits.length){const c=t.digits,_=$;g(c,_),c[_]=s&255}else s!==0&&(t.truncated=!0);r=i;continue}t.digits_num=t.digits_num+n|0,t.digits_num>t.digits.length&&(t.digits_num=t.digits.length),t.decimal_point=t.decimal_point+n|0,So(t)}function Es(t,e){let n=0,o=0,$=V;for(;we(Cn($,e),V);){if(n>=t.digits_num){for(;we(Cn($,e),V);){$=re($,tt),n=n+1|0;continue}break}const i=t.digits,s=n;g(i,s);const c=i[s];$=Sn(re($,tt),yn(c)),n=n+1|0;continue}t.decimal_point=t.decimal_point-(n-1|0)|0;const r=Qd(ds(st,e),st);for(;n<t.digits_num;){const i=Cn($,e),s=t.digits,c=o;g(s,c),s[c]=ns(i),o=o+1|0,$=ms($,r);const _=t.digits,a=n;g(_,a);const u=_[a];$=Sn(re($,tt),yn(u)),n=n+1|0;continue}for(;mn($,V);){const i=Cn($,e);if(o<t.digits.length){const s=t.digits,c=o;g(s,c),s[c]=ns(i),o=o+1|0}else mn(i,V)&&(t.truncated=!0);$=ms($,r),$=re($,tt);continue}t.digits_num=o,So(t)}function jn(t,e){if(t.digits_num===0)return;let n=e;if(n>0){for(;n>59;){Cs(t,59),n=n-59|0;continue}Cs(t,n)}if(n<0){for(;n<-59;){Es(t,59),n=n+59|0;continue}Es(t,-n|0);return}else return}function Ch(t){let e=0,n=V;if(t.digits_num===0||t.decimal_point<-330){n=V,e=Q.bias;const $=Ms(n,e,t.negative);return new Tt(Ve($))}if(t.decimal_point>310){const $=En();if($.$tag===1)$._0;else return $}for(;t.decimal_point>0;){let $=0;if(t.decimal_point>=he.length)$=60;else{const r=t.decimal_point;g(he,r),$=he[r]}jn(t,-$|0),e=e+$|0;continue}for(;;){let $;if(t.decimal_point<0)$=!0;else{let r;if(t.decimal_point===0){const i=t.digits;g(i,0),r=i[0]<5}else r=!1;$=r}if($){let r=0;if((-t.decimal_point|0)>=he.length)r=60;else{const i=-t.decimal_point|0;g(he,i),r=he[i]}jn(t,r),e=e-r|0;continue}else break}if(e=e-1|0,e<(Q.bias+1|0)){const $=(Q.bias+1|0)-e|0;jn(t,-$|0),e=e+$|0}if((e-Q.bias|0)>=((1<<Q.exponent_bits)-1|0)){const $=En();if($.$tag===1)$._0;else return $}if(jn(t,Q.mantissa_bits+1|0),n=Sh(t),fs(n,oe(i$,Q.mantissa_bits))&&(n=Wd(n,1),e=e+1|0,(e-Q.bias|0)>=((1<<Q.exponent_bits)-1|0))){const $=En();if($.$tag===1)$._0;else return $}fs(us(n,oe(st,Q.mantissa_bits)),V)&&(e=Q.bias);const o=Ms(n,e,t.negative);return new Tt(Ve(o))}function Eh(t,e){if(we(t,V)||we(e,V))return Ql;if(we(t,st))return e;if(we(e,st))return t;if(hs(e)===0||hs(t)===0)return;const n=Gd(Il,e);if(!mn(t,n))return re(t,e)}function Mo(t){const e=t&31;return g(Mr,e),Mr[e]}function Ah(t){return ze(Dl,t.exponent)&&ze(t.exponent,zl)&&xf(t.mantissa,ti)&&!t.many_digits}function jh(t){if(Ah(t)){let e;if(ze(t.exponent,ao)){const n=es(t.mantissa);e=fn(t.exponent,V)?n/Mo(-$e(t.exponent)|0):n*Mo($e(t.exponent))}else{const n=Ue(t.exponent,ao),o=t.mantissa,$=$e(n);g(Sr,$);const r=Eh(o,Sr[$]);let i;if(r===void 0||(i=r,mn(i,ti)))return Zn;e=es(i)*Mo($e(ao))}return t.negative&&(e=-e),new v$(e)}else return Zn}function qh(t){if((t.end-t.start|0)>0)if(dh(t)){const e=yh(t);let n;if(e.$tag===1)n=e._0;else return e;if(n===void 0)return gh(t);{const r=jh(n);if(r.$tag===1){const s=r._0;return new Tt(s)}else{const i=ph(t);let s;if(i.$tag===1)s=i._0;else return i;return Ch(s)}}}else return xo();else return xo()}function qn(t,e){let n=1,o=0,$=0;for(;;){const r=$;if(r<e){const i=t.str,s=t.start+r|0;i.charCodeAt(s)===10?(n=n+1|0,o=0):o=o+1|0,$=r+1|0;continue}else break}return{line:n,column:o}}function Rh(t,e){const n=t.offset+e|0,o=gn(t.input,n),$=65533;return new fe(new Ae(qn(t.input,n),o===-1?$:o))}function ie(t,e){const n=t.offset+e|0,o=gn(t.input,n),$=65533;return new It(new Ae(qn(t.input,n),o===-1?$:o))}function Et(t,e){const n=t.offset+e|0,o=gn(t.input,n),$=65533;return new $n(new Ae(qn(t.input,n),o===-1?$:o))}function Co(t,e){const n=t.offset+e|0,o=gn(t.input,n),$=65533;return new qe(new Ae(qn(t.input,n),o===-1?$:o))}function Oh(t,e){switch(t.$tag){case 18:{const n=t,o=n._0,$=o.line,r=o.column,i=n._1;e.method_table.method_0(e.self,"Invalid character "),e.method_table.method_0(e.self,Af(i)),e.method_table.method_0(e.self," at line "),Dt(e,$),e.method_table.method_0(e.self,", column "),Dt(e,r);return}case 17:{e.method_table.method_0(e.self,"Unexpected end of file");return}case 16:{const n=t,o=n._0,$=o.line,r=o.column,i=n._1;e.method_table.method_0(e.self,"Invalid number "),e.method_table.method_0(e.self,i),e.method_table.method_0(e.self," at line "),Dt(e,$),e.method_table.method_0(e.self,", column "),Dt(e,r);return}case 15:{const o=t._0,$=o.line,r=o.column;e.method_table.method_0(e.self,"Invalid escape sequence in identifier at line "),Dt(e,$),e.method_table.method_0(e.self,", column "),Dt(e,r);return}default:{e.method_table.method_0(e.self,"Depth limit exceeded, please increase the max_nesting_depth parameter");return}}}function se(t){const e=Yt(t.input,t.offset,t.end_offset),n=e.str,o=e.start,$=o+(e.end-e.start|0)|0;let r=o,i=-1,s=-1;t:if(r<$){e:{const c=r,_=n.charCodeAt(c);if(r=r+1|0,_<14)if(_<11){if(_<9)break t;break e}else{if(_>12)break e;break t}else if(_>31){if(_<33)break e;break t}else break t}for(;;)if(i=0,s=r,r<$){e:{const c=r,_=n.charCodeAt(c);if(r=r+1|0,_<14)if(_<11){if(_<9)break t;break e}else{if(_>12)break e;break t}else if(_>31){if(_<33)break e;break t}else break t}continue}else break t}else break t;if(i===0){let c;t:{e:{const _=ft(n,s,$);if(_.$tag===1)c=_._0;else{_._0;break e}break t}c=R()}t.offset=t.end_offset-(c.end-c.start|0)|0;return}else return}function Th(t,e){return{offset:0,input:t,end_offset:t.end-t.start|0,remaining_available_depth:e}}function wt(t,e){if(t.offset<t.end_offset){const n=t.input,o=t.offset,$=n.str,r=n.start+o|0,i=$.charCodeAt(r);return t.offset=t.offset+1|0,e!==i?Et(t,-1):new to(void 0)}else return new $n(ot)}function Ut(t,e,n){const o=Yt(t.input,e,n);if(!pn(o,{str:Cr,start:0,end:Cr.length})&&!pn(o,{str:Er,start:0,end:Er.length})&&!pn(o,{str:Ar,start:0,end:Ar.length})){let $,r;t:{e:{const i=vs(o);let s;if(i.$tag===1)s=i._0;else{r=i._0;break e}$=new Xn(s);break t}$=new on(r)}t:if($.$tag===1){const s=$._0;if(ze(s,ml)&&mo(s,dl))return{_0:Xd(s),_1:void 0};break t}else break t;t:if(D(o.str,1,o.start,o.end)){if(P(o.str,y(o.str,0,o.start,o.end))===45)return{_0:lo,_1:o};break t}else break t;return{_0:fo,_1:o}}else{let $,r;t:{e:{const i=qh(o);let s;if(i.$tag===1)s=i._0;else{r=i._0;break e}$=new Tt(s);break t}$=new Qn(r)}if($.$tag===1)return{_0:$._0,_1:void 0};t:if(D(o.str,1,o.start,o.end)){if(P(o.str,y(o.str,0,o.start,o.end))===45)return{_0:lo,_1:o};break t}else break t;return{_0:fo,_1:o}}}function Z(t){if(t.offset<t.end_offset){const e=t.input,n=t.offset,o=e.str,$=e.start+n|0,r=o.charCodeAt($);if(t.offset=t.offset+1|0,r>=55296&&r<=56319&&t.offset<t.end_offset){const i=t.input,s=t.offset,c=i.str,_=i.start+s|0,a=c.charCodeAt(_);if(a>=56320&&a<=57343)return t.offset=t.offset+1|0,((r<<10)+a|0)-56613888|0}return r}else return-1}function As(t,e){for(;;)t:{const n=Z(t);if(n===-1)return Ut(t,e,t.offset);{const $=n;if($>=48&&$<=57)break t;return t.offset=t.offset-1|0,Ut(t,e,t.offset)}}}function Ih(t,e){const n=Z(t);if(n===-1)return new qe(ot);{const $=n;return $>=48&&$<=57?new ct(As(t,e)):(t.offset=t.offset-1|0,Co(t,0))}}function Eo(t,e){t:{const $=Z(t);if($===-1)return new qe(ot);{const i=$;switch(i){case 43:break t;case 45:break t;default:return i>=48&&i<=57?new ct(As(t,e)):(t.offset=t.offset-1|0,Co(t,0))}}}const n=Ih(t,e);let o;if(n.$tag===1)o=n._0;else return n;return new ct(o)}function Lh(t,e){for(;;)t:{e:{const $=Z(t);if($===-1)return new ct(Ut(t,e,t.offset));{const i=$;switch(i){case 101:break e;case 69:break e;default:{if(i>=48&&i<=57)break t;return t.offset=t.offset-1|0,new ct(Ut(t,e,t.offset))}}}}const n=Eo(t,e);let o;if(n.$tag===1)o=n._0;else return n;return new ct(o)}}function js(t,e){const n=Z(t);if(n===-1)return new qe(ot);{const $=n;return $>=48&&$<=57?Lh(t,e):Co(t,-1)}}function qs(t,e){for(;;)t:{e:{const $=Z(t);if($===-1)return new ct(Ut(t,e,t.offset));{const i=$;switch(i){case 46:{const s=js(t,e);let c;if(s.$tag===1)c=s._0;else return s;return new ct(c)}case 101:break e;case 69:break e;default:{if(i>=48&&i<=57)break t;return t.offset=t.offset-1|0,new ct(Ut(t,e,t.offset))}}}}const n=Eo(t,e);let o;if(n.$tag===1)o=n._0;else return n;return new ct(o)}}function Ph(t,e){let n=0,o=0;for(;;){const $=o;if($<e){const r=Z(t);if(r===-1)return new y$(ot);{const s=r;if(s>=65){const c=((s&-33)-65|0)+10|0;if(c>15){const _=Et(t,-1);if(_.$tag===1)_._0;else return _}n=n<<4|c}else if(s>=48){const c=s-48|0;if(c>9){const _=Et(t,-1);if(_.$tag===1)_._0;else return _}n=n<<4|c}else{const c=Et(t,-1);if(c.$tag===1)c._0;else return c}}o=$+1|0;continue}else break}return new x$(n)}function Rs(t,e){const n=t._2,o=t._1,$=t._0;if(n.val>0&&e>n.val){let r;t:{e:{const i=Of(o.input,n.val,e);if(i.$tag===1)r=i._0;else{i._0;break e}break t}r=R()}ho($,r);return}else return}function Ao(t){const e=G(),n={val:t.offset},o={_0:e,_1:t,_2:n};t:for(;;)e:{n:{$:{const r=Z(t);if(r===-1)return new eo(ot);{const s=r;switch(s){case 34:{Rs(o,t.offset-1|0);break t}case 10:break $;case 13:break $;case 92:{Rs(o,t.offset-1|0);const c=Z(t);if(c===-1)return new eo(ot);switch(c){case 98:{O(e,8);break}case 102:{O(e,12);break}case 110:{O(e,10);break}case 114:{O(e,13);break}case 116:{O(e,9);break}case 34:{O(e,34);break}case 92:{O(e,92);break}case 47:{O(e,47);break}case 117:{const u=Ph(t,4);let l;if(u.$tag===1)l=u._0;else return u;O(e,l);break}default:{const u=Et(t,-1);if(u.$tag===1)u._0;else return u}}n.val=t.offset;break}default:if(s<32){const c=Et(t,-1);if(c.$tag===1)c._0;else return c}else break e}}break n}const $=Et(t,-1);if($.$tag===1)$._0;else return $}break e}return new S$(e.val)}function Os(t,e){t:{const n=Z(t);if(n===-1)return new ct(Ut(t,e,t.offset));{const $=n;switch($){case 46:return js(t,e);case 101:break t;case 69:break t;default:{if($>=48&&$<=57){t.offset=t.offset-1|0;const r=Et(t,0);if(r.$tag===1)r._0;else return r}return t.offset=t.offset-1|0,new ct(Ut(t,e,t.offset))}}}}return Eo(t,e)}function jo(t,e){se(t);const n=Z(t);if(n===-1)return new It(ot);{const $=n;if($===123)return new W(gl);if($===91)return new W(kl);if($===93)return e?new W(C$):ie(t,-1);if($===110){const r=wt(t,117);if(r.$tag===1)r._0;else return r;const i=wt(t,108);if(i.$tag===1)i._0;else return i;const s=wt(t,108);if(s.$tag===1)s._0;else return s;return new W(hl)}else if($===116){const r=wt(t,114);if(r.$tag===1)r._0;else return r;const i=wt(t,117);if(i.$tag===1)i._0;else return i;const s=wt(t,101);if(s.$tag===1)s._0;else return s;return new W(bl)}else if($===102){const r=wt(t,97);if(r.$tag===1)r._0;else return r;const i=wt(t,108);if(i.$tag===1)i._0;else return i;const s=wt(t,115);if(s.$tag===1)s._0;else return s;const c=wt(t,101);if(c.$tag===1)c._0;else return c;return new W(pl)}else if($===45){const r=Z(t);if(r===-1)return new It(ot);{const s=r;if(s===48){const c=Os(t,t.offset-2|0);let _;if(c.$tag===1)_=c._0;else return c;const a=_._0,u=_._1;return new W(new Re(a,wn(u,l=>q(l))))}else{if(s>=49&&s<=57){const c=qs(t,t.offset-2|0);let _;if(c.$tag===1)_=c._0;else return c;const a=_._0,u=_._1;return new W(new Re(a,wn(u,l=>q(l))))}return ie(t,-1)}}}else if($===48){const r=Os(t,t.offset-1|0);let i;if(r.$tag===1)i=r._0;else return r;const s=i._0,c=i._1;return new W(new Re(s,wn(c,_=>q(_))))}else if($>=49&&$<=57){const r=qs(t,t.offset-1|0);let i;if(r.$tag===1)i=r._0;else return r;const s=i._0,c=i._1;return new W(new Re(s,wn(c,_=>q(_))))}else if($===34){const r=Ao(t);let i;if(r.$tag===1)i=r._0;else return r;return new W(new rn(i))}else{const i=-($<=65535?1:2)|0;return ie(t,i)}}}function zh(t){se(t);const e=Z(t);if(e===-1)return new It(ot);switch(e){case 93:return new W(C$);case 44:return new W(E$);default:return ie(t,-1)}}function Dh(t){se(t);const e=Z(t);if(e===-1)return new It(ot);switch(e){case 125:return new W(M$);case 44:return new W(E$);default:return ie(t,-1)}}function Fh(t){se(t);const e=Z(t);return e===-1?new $n(ot):e===58?new to(void 0):Et(t,-1)}function Nh(t){se(t);const e=Z(t);if(e===-1)return new It(ot);switch(e){case 125:return new W(M$);case 34:{const $=Ao(t);let r;if($.$tag===1)r=$._0;else return $;return new W(new rn(r))}default:return ie(t,-1)}}function Bh(t){se(t);const e=Z(t);if(e===-1)return new It(ot);if(e===34){const $=Ao(t);let r;if($.$tag===1)r=$._0;else return $;return new W(new rn(r))}else return ie(t,-1)}function Ts(t){const e=jo(t,!1);let n;if(e.$tag===1)n=e._0;else return e;return Is(t,n)}function Is(t,e){t:switch(e.$tag){case 0:return new lt(Tl);case 1:return new lt(Cu);case 2:return new lt(Eu);case 3:{const n=e,o=n._0,$=n._1;return new lt(new zn(o,$))}case 4:{const o=e._0;return new lt(new J(o))}case 5:return Uh(t);case 7:return Vh(t);case 8:break t;case 6:break t;default:break t}return new lt(un("unreachable","@moonbitlang/core/json:parse.mbt:61:34-61:54"))}function Vh(t){if(t.remaining_available_depth<=0)return new fe(u$);t.remaining_available_depth=t.remaining_available_depth-1|0;const e=[];let n;const o=jo(t,!0);let $;if(o.$tag===1)$=o._0;else return o;let r=$;t:for(;;){const i=r;if(i.$tag===8){t.remaining_available_depth=t.remaining_available_depth+1|0,n=new Dn(e);break}else{const s=Is(t,i);let c;if(s.$tag===1)c=s._0;else return s;Hf(e,c);const _=zh(t);let a;if(_.$tag===1)a=_._0;else return _;switch(a.$tag){case 9:{const u=jo(t,!1);if(u.$tag===1)r=u._0;else return u;continue t}case 8:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new Dn(e);break t}default:{n=un("unreachable","@moonbitlang/core/json:parse.mbt:114:14-114:34");break t}}}}return new lt(n)}function Uh(t){if(t.remaining_available_depth<=0)return new fe(u$);t.remaining_available_depth=t.remaining_available_depth-1|0;const e=Si(8);let n;const o=Nh(t);let $;if(o.$tag===1)$=o._0;else return o;let r=$;t:for(;;){const i=r;switch(i.$tag){case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new ut(e);break t}case 4:{const c=i._0,_=Fh(t);if(_.$tag===1)_._0;else return _;const a=Ts(t);let u;if(a.$tag===1)u=a._0;else return a;ke(e,c,u);const l=Dh(t);let f;if(l.$tag===1)f=l._0;else return l;switch(f.$tag){case 9:{const h=Bh(t);if(h.$tag===1)r=h._0;else return h;continue t}case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new ut(e);break t}default:{n=un("unreachable","@moonbitlang/core/json:parse.mbt:86:14-86:34");break t}}}default:{n=un("unreachable","@moonbitlang/core/json:parse.mbt:89:10-89:30");break t}}}return new lt(n)}function qo(t,e){const n=Th(t,e),o=Ts(n);let $;if(o.$tag===1)$=o._0;else return o;return se(n),n.offset>=n.end_offset?new lt($):Rh(n,0)}function Ls(t,e){const n=G(t.length),o=ge(t);for(;;){const $=Bt(o);if($===-1)break;{const i=$;switch(i){case 34:{I(n,'\\"');break}case 92:{I(n,"\\\\");break}case 47:{O(n,i);break}case 10:{I(n,"\\n");break}case 13:{I(n,"\\r");break}case 8:{I(n,"\\b");break}case 9:{I(n,"\\t");break}default:{const s=i;s===12?I(n,"\\f"):s<32?(I(n,"\\u00"),I(n,Nt(s&255))):O(n,i)}}continue}}return n.val}function ve(t,e){return""}function Rn(t,e,n,o){const $=G(),r=[];let i=t;for(;;){const s=i;if(s===void 0){if(r.length===0)break;{const c=r[r.length-1|0];if(c.$tag===0){const _=c,a=_._0,u=_._1;if(u<a.length){const l=mf(a,u);_._1=u+1|0,u>0&&(O($,44),I($,ve())),i=l;continue}else{ps(r),I($,ve()),O($,93),i=void 0;continue}}else{const _=c,a=_._0,u=_._1,l=Kf(a);if(l===void 0){ps(r),I($,ve()),O($,125),i=void 0;continue}else{const h=l,d=h._0;let m=h._1;u||(O($,44),I($,ve())),O($,34),I($,Ls(d)),O($,34),O($,58),_._1=!1,i=m;continue}}}}else{const _=s;switch(_.$tag){case 6:{const u=_._0;u.size===0?I($,"{}"):(O($,123),I($,ve()),hi(r,new j$(Od(u),!0)));break}case 5:{const u=_._0;u.length===0?I($,"[]"):(O($,91),I($,ve()),hi(r,new A$(u,0)));break}case 4:{const u=_._0;O($,34),I($,Ls(u)),O($,34);break}case 3:{const a=_,u=a._0,l=a._1;l===void 0?hf($,u):I($,l);break}case 1:{I($,"true");break}case 2:{I($,"false");break}default:I($,"null")}i=void 0;continue}}return $.val}function Jh(t){return{buf:new Array(t),len:0,head:0}}function Hh(t,e){return v.ws_connect(t,e)}function Wh(t,e){return v.ws_send(t,e)}function Kh(t){return v.ws_close(t)}function Xh(t){return v.mutation_observer_new(t)}function Qh(t,e,n,o,$){return v.mutation_observer_observe(t,e,n,o,$)}function Gh(t){return v.mutation_observer_records_count(t)}function Yh(t,e){return v.mutation_observer_record_at(t,e)}function Zh(t){return v.mutation_observer_clear_records(t)}function tb(t){return v.mutation_record_type(t)}function eb(t){return v.mutation_record_target(t)}function nb(t){return v.mutation_record_added_nodes_count(t)}function ob(t,e){return v.mutation_record_added_node_at(t,e)}function $b(t){return v.mutation_record_attribute_name(t)}function rb(t){return v.mutation_record_has_attribute_name(t)}function Ps(t){return v.node_is_element(t)}function zs(t){return v.node_as_element(t)}function ib(t){return v.response_status(t)}function sb(t){return v.response_status_text(t)}function cb(t){return v.response_ok(t)}function _b(){return v.abort_controller_new()}function ab(t){return v.abort_controller_signal(t)}function ub(t){return v.abort_controller_abort(t)}function lb(t){return v.form_data_from_element(t)}function fb(t){return v.form_data_to_url_encoded(t)}function mb(t){return v.event_type(t)}function db(t){return v.event_target(t)}function hb(t){return v.event_has_target(t)}function bb(t){return v.event_prevent_default(t)}function pb(t){return v.event_stop_propagation(t)}function gb(t){return v.event_cancel_bubble(t)}function kb(t,e){return v.event_eval_filter(t,e)}function K(t,e){return v.element_get_attribute(t,e)}function wb(t,e,n){return v.element_set_attribute(t,e,n)}function vb(t,e){return v.element_remove_attribute(t,e)}function L(t,e){return v.element_has_attribute(t,e)}function yb(t,e){return v.element_add_class(t,e)}function Ds(t,e){return v.element_remove_class(t,e)}function Fs(t,e){return v.element_query_selector(t,e)}function Ns(t,e){return v.element_query_selector_exists(t,e)}function Ro(t,e){return v.element_closest(t,e)}function Oo(t,e){return v.element_closest_exists(t,e)}function Bs(t,e){return v.element_matches(t,e)}function Vs(t){return v.element_parent_element(t)}function Us(t){return v.element_has_parent(t)}function xb(t,e){return v.element_same(t,e)}function To(t){return v.element_tag_name(t)}function Io(t){return v.element_id(t)}function Js(t,e){return v.element_set_inner_html(t,e)}function Hs(t,e){return v.element_set_outer_html(t,e)}function Sb(t,e){return v.element_set_text_content(t,e)}function ye(t,e,n){return v.element_insert_adjacent_html(t,e,n)}function Ws(t){return v.element_remove(t)}function xe(t){return v.element_is_null(t)}function Lo(t){return v.element_child_count(t)}function On(t,e){return v.element_child_at(t,e)}function Mb(t){return v.element_value(t)}function At(){return v.get_document()}function et(){return v.get_window()}function Tn(t){return v.document_body(t)}function Cb(t){return v.document_document_element(t)}function Po(t,e){return v.document_query_selector(t,e)}function zo(t,e){return v.document_query_selector_exists(t,e)}function Eb(t,e){return v.document_get_element_by_id(t,e)}function Ab(t,e){return v.document_element_exists(t,e)}function jb(t,e,n){return v.document_add_event_listener(t,e,n)}function Do(t){return v.window_location_href(t)}function qb(t,e,n){return v.window_history_push_state(t,e,n)}function He(t,e,n){return v.window_set_timeout(t,e,n)}function We(t,e){return v.window_clear_timeout(t,e)}function Rb(t,e,n){return v.window_set_interval(t,e,n)}function Ob(t,e){return v.window_clear_interval(t,e)}function Fo(t){return v.console_error(t)}function Tb(t,e){return{event_name:t,modifiers:e}}function Ib(t){const e=kn(t.modifiers);for(;;){const n=bn(e);if(n===void 0)return!1;{const $=n;let r;if($.$tag===0?r=!0:r=!1,r)return!0;continue}}}function Lb(t){const e=kn(t.modifiers);for(;;){const n=bn(e);if(n===void 0)return!1;{const $=n;let r;if($.$tag===1?r=!0:r=!1,r)return!0;continue}}}function Pb(t){const e=t.modifiers,n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];if(r.$tag===2)return r._0;o=$+1|0;continue}else break}}function zb(t){const e=t.modifiers,n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];if(r.$tag===3)return r._0;o=$+1|0;continue}else break}}function Db(t){const e=t.modifiers,n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];if(r.$tag===4)return r._0;o=$+1|0;continue}else break}}function Fb(t){const e=t.modifiers,n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];if(r.$tag===6)return r._0;o=$+1|0;continue}else break}}function Nb(t){const e=t.modifiers,n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];if(r.$tag===9)return r._0;o=$+1|0;continue}else break}}function Bb(t){const e=kn(t.modifiers);for(;;){const n=bn(e);if(n===void 0)return!1;{const $=n;let r;if($.$tag===7?r=!0:r=!1,r)return!0;continue}}}function Vb(t){const e=kn(t.modifiers);for(;;){const n=bn(e);if(n===void 0)return!1;{const $=n;let r;if($.$tag===8?r=!0:r=!1,r)return!0;continue}}}function Ub(t,e){switch(t.$tag){case 4:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"UnexpectedChar("),e.method_table.method_0(e.self,"pos="),Pe(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"expected="),F(e,$),e.method_table.method_0(e.self,")");return}case 3:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"UnexpectedEnd("),e.method_table.method_0(e.self,"pos="),Pe(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"expected="),F(e,$),e.method_table.method_0(e.self,")");return}case 2:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"InvalidNumber("),e.method_table.method_0(e.self,"pos="),Pe(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"value="),F(e,$),e.method_table.method_0(e.self,")");return}case 1:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"InvalidModifier("),e.method_table.method_0(e.self,"pos="),Pe(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"name="),F(e,$),e.method_table.method_0(e.self,")");return}default:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"InvalidSelector("),e.method_table.method_0(e.self,"pos="),Pe(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"value="),F(e,$),e.method_table.method_0(e.self,")");return}}}function Jb(t,e){e.method_table.method_0(e.self,"{"),e.method_table.method_0(e.self,"offset: "),Dt(e,t.offset),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"char: "),af(e,t.char),e.method_table.method_0(e.self,"}")}function Hb(t){return{input:t,pos:0}}function ce(t){return t.pos>=t.input.length?-1:St(t.input,t.pos)}function jt(t){if(t.pos<t.input.length){t.pos=t.pos+1|0;return}else return}function X(t){for(;;){if(t.pos>=t.input.length)return;t:{e:{n:{const e=ce(t);if(e===-1)break e;switch(e){case 32:break n;case 9:break n;case 10:break n;case 13:break n;default:break e}}jt(t);break t}break}}}function _e(t,e){const n=ce(t);return n===-1?!1:n===e}function Ke(t,e){let n;if(t<e.length){const o=St(e,t);n=o===-1?0:o}else n=0;return{offset:t,char:n}}function Jt(t,e){if(t.pos>=t.input.length)return new sn(new Wn(Ke(t.pos,t.input),Be(e)));const n=ce(t);return n===-1?new sn(new Wn(Ke(t.pos,t.input),Be(e))):n===e?new q$(jt(t)):new sn(new Hn(Ke(t.pos,t.input),Be(e)))}function Wb(t,e){return _e(t,e)?(jt(t),!0):!1}function Kb(t){return t>=97&&t<=122||t>=65&&t<=90}function Xb(t){return Kb(t)||t>=48&&t<=57||t===45||t===95}function Qb(t){const e=im(Fl);for(;;){const n=gi(e);if(n===void 0)return!1;if(n===t)return!0}}function Xe(t){const e=t.pos;for(;!(t.pos>=t.input.length);)t:{e:{const n=ce(t);if(n===-1)break e;if(Xb(n))jt(t);else break e;break t}break}t:{const n=gt(t.input,e,t.pos);let o;if(n.$tag===1)o=n._0;else{n._0;break t}return q(o)}return R()}function Gb(t){const e=t.pos;X(t);const n=Xe(t);let o;if(Qb(n))switch(n){case"once":{o=!0;break}case"changed":{o=!0;break}case"consume":{o=!0;break}case"prevent":{o=!0;break}default:X(t),o=_e(t,58)}else o=!1;return t.pos=e,o}function Yb(t){const e=t.pos;for(;!(t.pos>=t.input.length);)t:{e:{const r=ce(t);if(r===-1)break e;{const s=r;if(s>=48&&s<=57)jt(t);else break e}break t}break}let n;t:{e:{const r=gt(t.input,e,t.pos);let i;if(r.$tag===1)i=r._0;else{r._0;break e}n=q(i);break t}n=R()}if(n==="")return new R$(new f$(Ke(e,t.input),n));let o=0;const $=ge(n);for(;;){const r=Bt($);if(r===-1)break;{const s=r;o=(Math.imul(o,10)|0)+(s-48|0)|0;continue}}return new Oe(o)}function Zb(t,e){const n=t.pos;for(;!(t.pos>=t.input.length);){const o=ce(t);if(o===-1)break;if(o===e)break;jt(t);continue}t:{const o=gt(t.input,n,t.pos);let $;if(o.$tag===1)$=o._0;else{o._0;break t}return q($)}return R()}function tp(t){const e=Jt(t,91);if(e.$tag===1)e._0;else return e;const n=Zb(t,93),o=Jt(t,93);if(o.$tag===1)o._0;else return o;return new O$(n)}function ep(t){const e=t.pos;let n=0;for(;!(t.pos>=t.input.length);){if(_e(t,44)&&n===0||_e(t,91)&&n===0||n===0&&Gb(t))break;const $=ce(t);if($===-1)break;switch($){case 40:{n=n+1|0,jt(t);break}case 41:{n=n-1|0,jt(t);break}default:jt(t)}continue}let o;t:{e:{const $=gt(t.input,e,t.pos);let r;if($.$tag===1)r=$._0;else{$._0;break e}o=q(r);break t}o=R()}return q(U(o))}function No(t){return Ke(t.pos,t.input)}function np(t){const e=Xe(t);switch(e){case"drop":return new me(0);case"replace":return new me(1);case"first":return new me(2);case"last":return new me(3);case"all":return new me(4);default:return new T$(new Kn(No(t),`queue:${e}`))}}function Ks(t){const e=ep(t);switch(e){case"this":return wl;case"body":return vl;case"window":return yl;case"document":return xl;default:if(at(e,{str:jr,start:0,end:jr.length})){let n;t:{e:{const $=gt(e,8,void 0);let r;if($.$tag===1)r=$._0;else{$._0;break e}n=q(r);break t}n=R()}const o=q(U(n));return new I$(o)}else if(at(e,{str:qr,start:0,end:qr.length})){let n;t:{e:{const $=gt(e,5,void 0);let r;if($.$tag===1)r=$._0;else{$._0;break e}n=q(r);break t}n=R()}const o=q(U(n));return new L$(o)}else if(at(e,{str:Rr,start:0,end:Rr.length})){let n;t:{e:{const $=gt(e,5,void 0);let r;if($.$tag===1)r=$._0;else{$._0;break e}n=q(r);break t}n=R()}const o=q(U(n));return new P$(o)}else if(at(e,{str:Or,start:0,end:Or.length})){let n;t:{e:{const $=gt(e,9,void 0);let r;if($.$tag===1)r=$._0;else{$._0;break e}n=q(r);break t}n=R()}const o=q(U(n));return new z$(o)}else return new D$(e)}}function Bo(t){const e=Yb(t);let n;if(e.$tag===1)n=e._0;else return e;const o=Xe(t);t:switch(o){case"":break t;case"ms":break t;case"s":return new Oe(Math.imul(n,1e3)|0);default:return new Oe(n)}return new Oe(n)}function op(t,e){switch(e){case"once":return new bt(Sl);case"changed":return new bt(Ml);case"consume":return new bt(Cl);case"prevent":return new bt(El);case"delay":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=Bo(t);let $;if(o.$tag===1)$=o._0;else return o;return new bt(new N$($))}case"throttle":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=Bo(t);let $;if(o.$tag===1)$=o._0;else return o;return new bt(new B$($))}case"debounce":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=Bo(t);let $;if(o.$tag===1)$=o._0;else return o;return new bt(new V$($))}case"from":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=Ks(t);return new bt(new U$(o))}case"target":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=Ks(t);return new bt(new J$(o))}case"queue":{X(t);const n=Jt(t,58);if(n.$tag===1)n._0;else return n;X(t);const o=np(t);let $;if(o.$tag===1)$=o._0;else return o;return new bt(new W$($))}default:return new F$(new Kn(No(t),e))}}function $p(t){const e=[];for(;!(t.pos>=t.input.length)&&!_e(t,44);){if(X(t),t.pos>=t.input.length||_e(t,44))break;if(_e(t,91)){const r=tp(t);let i;if(r.$tag===1)i=r._0;else return r;di(e,new H$(i));continue}const n=Xe(t);if(n==="")break;const o=op(t,n);let $;if(o.$tag===1)$=o._0;else return o;di(e,$);continue}return new K$(e)}function rp(t){const e=Xe(t);if(e==="")return new X$(new Hn(No(t),"event name (identifier)"));const n=$p(t);let o;if(n.$tag===1)o=n._0;else return n;return new Q$(Tb(e,o))}function ip(t){const e=Hb(t),n=[];for(X(e);!(e.pos>=e.input.length);){const o=rp(e);let $;if(o.$tag===1)$=o._0;else return o;Jf(n,$),X(e),Wb(e,44)&&X(e);continue}return new G$(n)}function Xs(t){switch(q(U(yi(t)))){case"innerhtml":return 0;case"outerhtml":return 1;case"beforebegin":return 2;case"afterbegin":return 3;case"beforeend":return 4;case"afterend":return 5;case"delete":return 6;case"none":return 7;default:return 0}}function Qs(t){const e=uo;return{strategy:t,swap_delay:e.swap_delay,settle_delay:e.settle_delay,scroll:e.scroll,show:e.show,focus_scroll:e.focus_scroll}}function Qe(t,e){t:{const n=ys({str:t,start:0,end:t.length});if(n.$tag===1)return n._0;n._0;break t}return e}function sp(t){let e=1,n=0;for(;;){const o=n;if(o<t){e=Math.imul(e,10)|0,n=o+1|0;continue}else break}return e}function Gs(t){const e=q(U(t));if(bo(e,{str:Tr,start:0,end:Tr.length})){const n=q(H(e,0,e.length-2|0));return Qe(n,0)}else if(bo(e,{str:Ir,start:0,end:Ir.length})){const n=q(H(e,0,e.length-1|0)),o=dn(n,{str:Lr,start:0,end:Lr.length});if(o===void 0)return Math.imul(Qe(n,0),1e3)|0;{const r=o,i=Qe(q(H(n,0,r)),0),s=q(H(n,r+1|0,void 0)),c=Qe(s,0),_=s.length,a=sp(_);return(Math.imul(i,1e3)|0)+((Math.imul(c,1e3)|0)/a|0)|0}}else return Qe(e,0)}function cp(t){const e=q(U(t));if(e==="")return uo;const n=om(tm(Ld(wi(e,{str:Pr,start:0,end:Pr.length}),i=>!ee(i)),i=>q(i)));if(n.length===0)return uo;const o=Xs(ln(n,0));let $=Qs(o),r=1;for(;;){const i=r;if(i<n.length){const s=ln(n,i),c=dn(s,{str:zr,start:0,end:zr.length});if(c!==void 0){const a=c,u=q(H(s,0,a)),l=q(H(s,a+1|0,void 0));switch(u){case"swap":{const f=$;$={strategy:f.strategy,swap_delay:Gs(l),settle_delay:f.settle_delay,scroll:f.scroll,show:f.show,focus_scroll:f.focus_scroll};break}case"settle":{const f=$;$={strategy:f.strategy,swap_delay:f.swap_delay,settle_delay:Gs(l),scroll:f.scroll,show:f.show,focus_scroll:f.focus_scroll};break}case"scroll":{const f=$;$={strategy:f.strategy,swap_delay:f.swap_delay,settle_delay:f.settle_delay,scroll:l,show:f.show,focus_scroll:f.focus_scroll};break}case"show":{const f=$;$={strategy:f.strategy,swap_delay:f.swap_delay,settle_delay:f.settle_delay,scroll:f.scroll,show:l,focus_scroll:f.focus_scroll};break}case"focus-scroll":{const f=$;$={strategy:f.strategy,swap_delay:f.swap_delay,settle_delay:f.settle_delay,scroll:f.scroll,show:f.show,focus_scroll:l==="true"};break}}}r=i+1|0;continue}else break}return $}function Ys(t){const e=q(U(yi(t)));t:{e:{n:switch(e){case"drop":return Fn;case"replace":return Wu;case"queue":break n;case"queue first":break n;case"queue:first":break n;case"queue last":break e;case"queue:last":break e;case"queue all":break t;case"queue:all":break t;default:return Fn}return Wl}return Hl}return Jl}function _p(){return{pending_timeout:0,last_execution:0,is_throttled:!1,queued_action:void 0}}function ap(){return{states:hd({start:0,end:0})}}function up(t,e,n){const o=`${mt(e,10)}_${mt(n,10)}`,$=yd(t.states,o);if($===void 0){const r=_p();return id(t.states,o,r),r}else return $}function lp(t,e,n){if(t.pending_timeout>0){const $=et();We($,t.pending_timeout)}const o=et();t.pending_timeout=He(o,()=>{t.pending_timeout=0,n()},e)}function fp(){return v.current_time()}function Zs(){return fp()}function mp(t,e,n){const o=Zs(),$=o-t.last_execution;if($>=e+0){t.last_execution=o,n();return}else if(t.is_throttled){t.queued_action=n;return}else{t.is_throttled=!0;const r=e+0-$,i=et();t.pending_timeout=He(i,()=>{t.pending_timeout=0,t.is_throttled=!1,t.last_execution=Zs();const s=t.queued_action;if(s===void 0){n();return}else{const _=s;t.queued_action=void 0,_();return}},yo(r));return}}function dp(t,e,n){if(t.pending_timeout>0){const $=et();We($,t.pending_timeout)}const o=et();t.pending_timeout=He(o,()=>{t.pending_timeout=0,n()},e)}function hp(t,e,n){const o=Pb(e);if(o!==void 0)return lp(t,o,n),!1;const $=zb(e);if($!==void 0)return mp(t,$,n),!1;const r=Db(e);return r!==void 0?(dp(t,r,n),!1):!0}function tc(t){return L(t,"mx-get")||L(t,"mx-post")||L(t,"mx-put")||L(t,"mx-patch")||L(t,"mx-delete")||L(t,"mx-trigger")||L(t,"mx-target")||L(t,"mx-swap")||L(t,"mx-sync")||L(t,"mx-vals")||L(t,"mx-live")||L(t,"mx-live-url")||L(t,"mx-live-queue")||L(t,"mx-live-resync")}function bp(t){return L(t,"mx-get")?{_0:0,_1:K(t,"mx-get")}:L(t,"mx-post")?{_0:1,_1:K(t,"mx-post")}:L(t,"mx-put")?{_0:2,_1:K(t,"mx-put")}:L(t,"mx-patch")?{_0:3,_1:K(t,"mx-patch")}:L(t,"mx-delete")?{_0:4,_1:K(t,"mx-delete")}:void 0}function ec(t){const e=bp(t);let n;e===void 0?n=Kl:n=e;const o=n._0,$=n._1;let r;if(L(t,"mx-trigger"))r=K(t,"mx-trigger");else switch(To(t)){case"FORM":{r="submit";break}case"INPUT":{r="change";break}case"TEXTAREA":{r="change";break}case"SELECT":{r="change";break}default:r="click"}const i=ip(r);let s;if(i.$tag===1)s=i._0;else return i;const c=L(t,"mx-swap")?Xs(K(t,"mx-swap")):0,_=L(t,"mx-target")?K(t,"mx-target"):void 0,a=L(t,"mx-sync")?Ys(K(t,"mx-sync")):void 0,u=L(t,"mx-vals")?K(t,"mx-vals"):void 0;return new Y$({triggers:s,http_method:o,url:$,swap:c,target:_,sync:a,vals:u,processed:!0})}function pp(t,e){const n=Nb(t);return n===void 0?!0:kb(e,n)}function nc(){return{configs:md({start:0,end:0}),next_id:1,element_ids:dd({start:0,end:0})}}function gp(){return{registered_events:ud({start:0,end:0}),handlers:ld({start:0,end:0}),cache:nc(),active:!1}}function kp(t,e){if(!Sd(t.registered_events,e)){od(t.registered_events,e,!0),$d(t.handlers,e,[]);return}}function wp(t,e){t.active=e}function vp(t){const e=an.length;let n=0;for(;;){const o=n;if(o<e){const $=an[o];kp(t,$),n=o+1|0;continue}else return}}function Se(t,e){const n=kd(t.element_ids,e);if(n===void 0){const o=t.next_id;return t.next_id=t.next_id+1|0,ed(t.element_ids,e,o),o}else return n}function oc(t,e,n){nd(t.configs,e,n)}function yp(t,e){return wd(t.configs,e)}function $c(t,e){Rd(t.configs,e)}function xp(t,e){return xd(t.configs,e)}function Sp(t,e,n,o){const $=be.next_id;return be.next_id=be.next_id+1|0,cd(be.entries,$,{connected:!1,on_open:t,on_message:e,on_error:n,on_close:o}),$}function Mp(t,e,n,o,$){const r=Sp(e,n,o,$);return Hh(t,r),r}function Me(t,e){return Wh(t,e)}function Vo(t){const e=Qi(be.entries,t);if(e!==void 0){const o=e;o.connected=!1,Kh(t);return}}function Ce(t){const e=Qi(be.entries,t);return e===void 0?!1:e.connected}function Cp(t,e){return{http_method:t.http_method,headers:t.headers,body:t.body,signal:new Z$(e)}}function Uo(t,e,n){const o=t.headers;return vn(o,e,n),{http_method:t.http_method,headers:o,body:t.body,signal:t.signal}}function Jo(t){let e="";const n=ge(t);for(;;){const o=Bt(n);if(o===-1)break;{const r=o;switch(r){case 34:{e=`${e}\\"`;break}case 92:{e=`${e}\\\\`;break}case 10:{e=`${e}\\n`;break}case 13:{e=`${e}\\r`;break}case 9:{e=`${e}\\t`;break}default:e=`${e}${Be(r)}`}continue}}return e}function Ep(t){let e="{";if(e=`${e}"method":"${t.http_method}"`,t.headers.size>0){e=`${e},"headers":{`;let $=!0;const r=Td(t.headers);for(;;){const i=zd(r);if(i===void 0)break;{const c=i,_=c._0,a=c._1;$||(e=`${e},`),e=`${e}"${Jo(_)}":"`,e=`${e}${Jo(a)}"`,$=!1;continue}}e=`${e}}`}const o=t.body;return o===void 0||(e=`${e},"body":"${Jo(o)}"`),e=`${e}}`,e}function Ap(){return v.create_dummy_response()}function jp(t){return{raw:Ap(),body:t}}function rc(t){return ib(t.raw)}function ic(t){return sb(t.raw)}function sc(t){return cb(t.raw)}function qp(t,e,n,o,$){const r=_b(),i=Cp(o,ab(r));return{id:t,element_id:e,url:n,options:i,controller:r,sync_strategy:$}}function Rp(t){ub(t.controller)}function Op(){return{current:void 0,pending:[]}}function Tp(){return{queues:fd({start:0,end:0}),next_id:1}}function Ip(t,e){const n=Xi(t.queues,e);if(n===void 0){const o=Op();return rd(t.queues,e,o),o}else return n}function Lp(t,e,n,o,$){const r=t.next_id;t.next_id=t.next_id+1|0;const i=Ip(t,e),s=qp(r,e,n,o,$);switch($.$tag){case 0:return i.current!==void 0?jl:(i.current=s,new cn(s));case 1:{const c=i.current;return c===void 0||Rp(c),gs(i.pending),i.current=s,new cn(s)}default:{const _=$._0;if(i.current!==void 0)switch(_){case 0:return po(i.pending,s),no;case 1:return gs(i.pending),po(i.pending,s),no;default:return po(i.pending,s),no}else return i.current=s,new cn(s)}}}function Pp(t,e,n){const o=Xi(t.queues,e);if(o!==void 0){const r=o;if(r.current=void 0,r.pending.length===0)return;{const s=ch(r.pending,0);return r.current=s,s}}}function zp(t,e){const n=zt.next_id;return zt.next_id=zt.next_id+1|0,sd(zt.callbacks,n,{_0:t,_1:e}),n}function Ho(t,e){const n=Gi(zt.callbacks,t);if(n===void 0){Fo(`Unknown callback ID: ${mt(t,10)}`);return}else{const r=n._0,i=jp(e),s=r.on_success;s(i),Yi(zt.callbacks,t);return}}function Wo(t,e){const n=Gi(zt.callbacks,t);if(n===void 0){Fo(`Unknown callback ID: ${mt(t,10)}`);return}else{const i=n._1.on_error;i(e),Yi(zt.callbacks,t);return}}function Dp(t,e,n){return v.initiate_fetch(t,e,n)}function cc(t,e,n,o){const $=zp({on_success:n},{on_error:o});$<0&&(Ho($,""),Wo($,""));const r=Ep(e);return Dp(t,r,$),$}function Fp(t,e){switch(t.$tag){case 24:{const o=t._0;e.method_table.method_0(e.self,"JsonParse("),e.method_table.method_0(e.self,"message="),F(e,o),e.method_table.method_0(e.self,")");return}case 23:{const o=t._0;e.method_table.method_0(e.self,"InvalidEnvelope("),e.method_table.method_0(e.self,"message="),F(e,o),e.method_table.method_0(e.self,")");return}case 22:{const o=t._0;e.method_table.method_0(e.self,"MissingField("),e.method_table.method_0(e.self,"field="),F(e,o),e.method_table.method_0(e.self,")");return}case 21:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"InvalidField("),e.method_table.method_0(e.self,"field="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"detail="),F(e,$),e.method_table.method_0(e.self,")");return}case 20:{const o=t._0;e.method_table.method_0(e.self,"UnknownMessageType("),e.method_table.method_0(e.self,"value="),F(e,o),e.method_table.method_0(e.self,")");return}default:{const o=t._0;e.method_table.method_0(e.self,"UnknownPatchOp("),e.method_table.method_0(e.self,"value="),F(e,o),e.method_table.method_0(e.self,")");return}}}function Np(t){if(t.$tag===0){const n=t._0,o="id",$=[{_0:"by",_1:new J(o)},{_0:"value",_1:new J(n)}],r=Mt({buf:$,start:0,end:2});return new ut(r)}else{const n=t._0,o="key",$=[{_0:"by",_1:new J(o)},{_0:"value",_1:new J(n)}],r=Mt({buf:$,start:0,end:2});return new ut(r)}}function Bp(t){return t===void 0?tn:t}function Vp(t){return t===void 0?tn:Np(t)}function Up(t){switch(t.$tag){case 0:{const e=t,n=e._0,o=e._1,$="join",r=[{_0:"type",_1:new J($)},{_0:"session_id",_1:new J(n)},{_0:"view_id",_1:new J(o)}],i=Mt({buf:r,start:0,end:3});return new ut(i)}case 1:{const e=t,n=e._0,o=e._1,$=e._2,r="event",i=[{_0:"type",_1:new J(r)},{_0:"event",_1:new J(n)},{_0:"target",_1:Vp(o)},{_0:"payload",_1:Bp($)}],s=Mt({buf:i,start:0,end:4});return new ut(s)}case 2:{const e="ping",n=[{_0:"type",_1:new J(e)}],o=Mt({buf:n,start:0,end:1});return new ut(o)}default:{const n=t._0,o="leave",$=[{_0:"type",_1:new J(o)},{_0:"reason",_1:new J(n)}],r=Mt({buf:$,start:0,end:2});return new ut(r)}}}function Ko(t){return Rn(Up(t))}function Xo(t,e){if(t.$tag===6){const o=t._0;return new er(o)}else return new tr(new le(e,"expected object"))}function Qo(t,e){const n=Ct(t,e);if(n===void 0)return new oo(new c$(e));{const $=n;return new $o($)}}function nt(t,e){const n=Qo(t,e);let o;if(n.$tag===1)o=n._0;else return n;if(o.$tag===4){const r=o._0;return new or(r)}else return new nr(new le(e,"expected string"))}function Jp(t){const e=Xo(t,"target");let n;if(e.$tag===1)n=e._0;else return e;const o=nt(n,"by");let $;if(o.$tag===1)$=o._0;else return o;const r=nt(n,"value");let i;if(r.$tag===1)i=r._0;else return r;switch($){case"id":return new ro(new io(i));case"key":return new ro(new so(i));default:return new $r(new le("target.by","expected id or key"))}}function Hp(t,e){const n=Ct(t,e);if(n!==void 0){const $=n;return $.$tag===0?void 0:$}}function _c(t){let e;t:{const n=qo({str:t,start:0,end:t.length},1024);let o;if(n.$tag===1)o=n._0;else{e=n._0;break t}return new $o(o)}return new oo(new s$(ui(e)))}function ac(t){const e=Xo(t,"op");let n;if(e.$tag===1)n=e._0;else return e;const o=nt(n,"op");let $;if(o.$tag===1)$=o._0;else return o;const r=Qo(n,"target");let i;if(r.$tag===1)i=r._0;else return r;const s=Jp(i);let c;if(s.$tag===1)c=s._0;else return s;switch($){case"set_text":{const _=nt(n,"text");let a;if(_.$tag===1)a=_._0;else return _;return new Lt(new ir(c,a))}case"set_attr":{const _=nt(n,"name");let a;if(_.$tag===1)a=_._0;else return _;const u=nt(n,"value");let l;if(u.$tag===1)l=u._0;else return u;return new Lt(new sr(c,a,l))}case"remove_attr":{const _=nt(n,"name");let a;if(_.$tag===1)a=_._0;else return _;return new Lt(new cr(c,a))}case"insert_after":{const _=nt(n,"html");let a;if(_.$tag===1)a=_._0;else return _;return new Lt(new _r(c,a))}case"insert_before":{const _=nt(n,"html");let a;if(_.$tag===1)a=_._0;else return _;return new Lt(new ar(c,a))}case"replace_node":{const _=nt(n,"html");let a;if(_.$tag===1)a=_._0;else return _;return new Lt(new ur(c,a))}case"remove_node":return new Lt(new lr(c));default:return new rr(new a$($))}}function Wp(t){if(t.$tag===5){const n=t._0,o=[],$=n.length;let r=0;for(;;){const i=r;if(i<$){const s=n[i],c=ac(s);let _;if(c.$tag===1)_=c._0;else return c;bi(o,_),r=i+1|0;continue}else break}return new Ie(o)}else return new Te(new le("ops","expected array"))}function Kp(t){const e=Xo(t,"message");let n;if(e.$tag===1)n=e._0;else return e;const o=nt(n,"type");let $;if(o.$tag===1)$=o._0;else return o;switch($){case"joined":{const r=nt(n,"session_id");let i;if(r.$tag===1)i=r._0;else return r;const s=nt(n,"view_id");let c;if(s.$tag===1)c=s._0;else return s;return new Xt(new fr(i,c))}case"patch":{const r=Qo(n,"ops");let i;if(r.$tag===1)i=r._0;else return r;const s=Wp(i);let c;if(s.$tag===1)c=s._0;else return s;return new Xt(new mr(c))}case"push_event":{const r=nt(n,"event");let i;if(r.$tag===1)i=r._0;else return r;const s=Hp(n,"payload");return new Xt(new dr(i,s))}case"error":{const r=nt(n,"code");let i;if(r.$tag===1)i=r._0;else return r;const s=nt(n,"message");let c;if(s.$tag===1)c=s._0;else return s;return new Xt(new hr(i,c))}case"pong":return new Xt(ql);default:return new co(new _$($))}}function Xp(t){const e=_c(t);let n;if(e.$tag===1)n=e._0;else return e;return Kp(n)}function uc(t){const e=_c(t);let n;if(e.$tag===1)n=e._0;else return e;if(n.$tag===5){const $=n._0,r=[],i=$.length;let s=0;for(;;){const c=s;if(c<i){const _=$[c],a=ac(_);let u;if(a.$tag===1)u=a._0;else return a;bi(r,u),s=c+1|0;continue}else break}return new Ie(r)}else return new Te(new le("patch","expected array"))}function Qp(t,e,n){switch(n.strategy){case 0:{Js(t,e);return}case 1:{Hs(t,e);return}case 2:{ye(t,"beforebegin",e);return}case 3:{ye(t,"afterbegin",e);return}case 4:{ye(t,"beforeend",e);return}case 5:{ye(t,"afterend",e);return}case 6:{Ws(t);return}default:return}}function Gp(t,e,n){t:{const o=Ct(t,e);if(o===void 0)break t;switch(o.$tag){case 1:return!0;case 2:return!1;default:break t}}return n}function Yp(t,e){t:{const n=Ct(t,e);if(n===void 0)break t;{const $=n;if($.$tag===3){const i=$._0,s=yo(i);return s+0===i&&s>0?s:void 0}else break t}}}function Zp(t){const e=Ct(t,"ops");if(e===void 0)return Yl;{const o=e;let $,r;t:{e:{const i=uc(Rn(o));let s;if(i.$tag===1)s=i._0;else{r=i._0;break e}$=new Ie(s);break t}$=new Te(r)}if($.$tag===1){const s=$._0,c=Yp(t,"seq"),_=Gp(t,"full",!1);return new Nn({ops:s,seq:c,full:_})}else{const s=$._0;return new Rt(li(s))}}}function lc(t){let e,n;t:{e:{const o=qo({str:t,start:0,end:t.length},1024);let $;if(o.$tag===1)$=o._0;else{n=o._0;break e}e=new lt($);break t}e=new fe(n)}if(e.$tag===0){const $=e._0;return new Rt(`invalid_json: ${ui($)}`)}else{const $=e._0;switch($.$tag){case 5:{let r,i;t:{e:{const s=uc(t);let c;if(s.$tag===1)c=s._0;else{i=s._0;break e}r=new Ie(c);break t}r=new Te(i)}if(r.$tag===1){const c=r._0;return new Nn({ops:c,seq:void 0,full:!1})}else{const c=r._0;return new Rt(li(c))}}case 6:{const i=$._0,s=Ct(i,"type");let c;if(s===void 0)c="";else{const u=s;if(u.$tag===4)c=u._0;else return Zl}return c!=="patch"?tf:Zp(i)}default:return ef}}}function t0(t){const e=At();if(t.$tag===0){const o=t._0;return Ab(e,o)?new _o(Eb(e,o)):br}else{const $=`[mx-key="${t._0}"]`;return zo(e,$)?new _o(Po(e,$)):br}}function ae(t,e){const n=t0(t);if(n.$tag===1){const $=n._0;e($);return}else return}function e0(t){switch(t.$tag){case 0:{const e=t,n=e._0,o=e._1;ae(n,$=>{Sb($,o)});return}case 1:{const e=t,n=e._0,o=e._1,$=e._2;ae(n,r=>{wb(r,o,$)});return}case 2:{const e=t,n=e._0,o=e._1;ae(n,$=>{vb($,o)});return}case 3:{const e=t,n=e._0,o=e._1;ae(n,$=>{ye($,"afterend",o)});return}case 4:{const e=t,n=e._0,o=e._1;ae(n,$=>{ye($,"beforebegin",o)});return}case 5:{const e=t,n=e._0,o=e._1;ae(n,$=>{Hs($,o)});return}default:{const n=t._0;ae(n,o=>{Ws(o)});return}}}function n0(t,e){const n=e.length;let o=0;for(;;){const $=o;if($<n){const r=e[$];e0(r),o=$+1|0;continue}else return}}function o0(t,e){switch(t.$tag){case 13:{const o=t._0;e.method_table.method_0(e.self,"ParseError("),_f(e,o),e.method_table.method_0(e.self,")");return}case 12:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"NetworkError("),e.method_table.method_0(e.self,"url="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"message="),F(e,$),e.method_table.method_0(e.self,")");return}case 11:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"TimeoutError("),e.method_table.method_0(e.self,"url="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"timeout_ms="),Dt(e,$),e.method_table.method_0(e.self,")");return}case 10:{const o=t._0;e.method_table.method_0(e.self,"AbortError("),e.method_table.method_0(e.self,"url="),F(e,o),e.method_table.method_0(e.self,")");return}case 9:{const n=t,o=n._0,$=n._1,r=n._2;e.method_table.method_0(e.self,"DomError("),e.method_table.method_0(e.self,"element="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"operation="),F(e,$),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"message="),F(e,r),e.method_table.method_0(e.self,")");return}case 8:{const n=t,o=n._0,$=n._1;e.method_table.method_0(e.self,"ConfigError("),e.method_table.method_0(e.self,"attribute="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"message="),F(e,$),e.method_table.method_0(e.self,")");return}default:{const n=t,o=n._0,$=n._1,r=n._2;e.method_table.method_0(e.self,"SwapError("),e.method_table.method_0(e.self,"target="),F(e,o),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"strategy="),F(e,$),e.method_table.method_0(e.self,", "),e.method_table.method_0(e.self,"message="),F(e,r),e.method_table.method_0(e.self,")");return}}}function $0(t,e){const n=Lo(t);let o=0;for(;;){const $=o;if($<n){const r=On(t,$);if(xb(r,e))return $;o=$+1|0;continue}else break}return-1}function fc(t,e,n){let o;if(Us(t))o=Vs(t);else return t;if(xe(o))return t;const $=Lo(o);if($<=0)return t;let r=$0(o,t);if(r<0)return t;if(n)for(r=r+1|0;r<$;){const i=On(o,r);if(!xe(i)&&Bs(i,e))return i;r=r+1|0;continue}else for(r=r-1|0;r>=0;){const i=On(o,r);if(!xe(i)&&Bs(i,e))return i;r=r-1|0;continue}return t}function r0(t,e){switch(e.$tag){case 0:return t;case 1:return Tn(At());case 3:return Cb(At());case 2:return t;case 4:{const o=e._0;return Oo(t,o)?Ro(t,o):t}case 5:{const o=e._0;return Ns(t,o)?Fs(t,o):t}case 6:{const o=e._0;return fc(t,o,!0)}case 7:{const o=e._0;return fc(t,o,!1)}default:{const o=e._0,$=At();return zo($,o)?Po($,o):t}}}function i0(t,e){const n=e.target;if(n===void 0)return t;{const $=n;if($==="this")return t;if(at($,{str:Dr,start:0,end:Dr.length})){const r=q(H($,8,void 0));return Oo(t,r)?Ro(t,r):t}else if(at($,{str:Fr,start:0,end:Fr.length})){const r=q(H($,5,void 0));return Ns(t,r)?Fs(t,r):t}else{const r=At();return zo(r,$)?Po(r,$):t}}}function s0(t,e,n){const o=Fb(e);return o===void 0?i0(t,n):r0(t,o)}function mc(t){const e=lb(t);return fb(e)}function dc(t){const e=G(),n=ge(t);for(;;){const o=Bt(n);if(o===-1)break;{const r=o;switch(r){case 32:{O(e,43);break}case 37:{I(e,"%25");break}case 38:{I(e,"%26");break}case 61:{I(e,"%3D");break}case 43:{I(e,"%2B");break}case 10:{I(e,"%0A");break}case 13:{I(e,"%0D");break}default:O(e,r)}continue}}return e.val}function c0(t){const e=G();let n=!0;const o=t.length;let $=0;for(;;){const r=$;if(r<o){const i=t[r],s=i._0,c=i._1;n||O(e,38),n=!1,I(e,dc(s)),O(e,61),I(e,dc(c)),$=r+1|0;continue}else break}return e.val}function _0(t){const n=Dd(t);return n===-1?0:n}function hc(t){return t>=48&&t<=57?t-48|0:t>=97&&t<=102?(t-97|0)+10|0:t>=65&&t<=70?(t-65|0)+10|0:void 0}function a0(t){if(t.length!==2)return-1;const e=St(t,0);let n;e===-1?n=void 0:n=hc(e);const o=St(t,1);let $;o===-1?$=void 0:$=hc(o);t:{if(n===void 0)break t;{const i=n;if($===void 0)break t;{const c=$;return((Math.imul(i,16)|0)+c|0)&255}}}return-1}function Go(t){const e=G();let n=0;for(;n<t.length;){const o=St(t,n);let $;if(o===-1){n=n+1|0;continue}else $=o;if($===43)O(e,32),n=n+1|0;else if($===37&&(n+2|0)<t.length){const r=q(H(t,n+1|0,n+3|0)),i=a0(r);i===-1?(O(e,$),n=n+1|0):(O(e,_0(i)),n=n+3|0)}else O(e,$),n=n+1|0;continue}return e.val}function u0(t){const e=[];if(t==="")return e;const n=wi(t,{str:Nr,start:0,end:Nr.length});for(;;){const o=go(n);if(o===void 0)break;{const r=o;if(ee(r))continue;const i=Fe(r,{str:Br,start:0,end:Br.length});if(i===void 0)Ne(e,{_0:Go(q(r)),_1:""});else{const c=i,_=q(Yt(r,0,c)),a=q(Yt(r,c+1|0,void 0));Ne(e,{_0:Go(_),_1:Go(a)})}continue}}return e}function l0(t){const e=G();let n=0;for(;n<t.length;){const o=St(t,n);let $;if(o===-1){n=n+1|0;continue}else $=o;if($===92&&(n+1|0)<t.length){const r=St(t,n+1|0);let i;if(r===-1){n=n+1|0;continue}else i=r;switch(i){case 34:{O(e,34);break}case 92:{O(e,92);break}case 110:{O(e,10);break}case 114:{O(e,13);break}case 116:{O(e,9);break}default:O(e,i)}n=n+2|0}else O(e,$),n=n+1|0;continue}return e.val}function bc(t){const e=q(U(t));let n;if(e.length<2)n=!0;else{let o;if(g(e,0),e.charCodeAt(0)!==34)o=!0;else{const i=e.length-1|0;g(e,i),o=e.charCodeAt(i)!==34}n=o}if(!n){const o=q(H(e,1,e.length-1|0));return l0(o)}}function f0(t){const e=q(U(t));return at(e,{str:Vr,start:0,end:Vr.length})?bc(e):e}function m0(t){Fo(`mhx error: ${Ef(t)}`)}function rt(t){const e=Bl.handler;e(t)}function d0(t){const e=[];let n=0,o=!1,$=!1,r=0;const i=t.length;let s=0;for(;s<i;){const u=St(t,s);let l;if(u===-1){s=s+1|0;continue}else l=u;$?$=!1:l===92&&o?$=!0:l===34?o=!o:o||(l===123||l===91?n=n+1|0:l===125||l===93?n=n-1|0:l===44&&n===0&&(hn(e,q(H(t,r,s))),r=s+1|0)),s=s+1|0;continue}r<i&&hn(e,q(H(t,r,void 0)));const c=new Array(e.length),_=e.length;let a=0;for(;;){const u=a;if(u<_){const l=e[u];c[u]=q(U(l)),a=u+1|0;continue}else break}return c}function Yo(t){const e=[],n=q(U(t));if(n==="")return e;if(!(at(n,{str:Ur,start:0,end:Ur.length})&&bo(n,{str:Jr,start:0,end:Jr.length}))){const s="mx-vals",c="expected JSON object";return rt(new Jn(s,c)),e}const o=q(H(n,1,n.length-1|0));if(ee(U(o)))return e;const $=d0(o),r=$.length;let i=0;for(;;){const s=i;if(s<r){const c=$[s],_=dn(c,{str:Hr,start:0,end:Hr.length});if(_!==void 0){const u=_,l=q(U(q(H(c,0,u)))),f=q(U(q(H(c,u+1|0,void 0)))),h=bc(l);let d;if(h===void 0){const m="mx-vals",w="invalid key";rt(new Jn(m,w)),d=""}else d=h;if(d!==""){const m=f0(f);m===void 0||Ne(e,{_0:d,_1:m})}}i=s+1|0;continue}else break}return e}function pc(t,e){const n=To(t)==="FORM"?mc(t):Oo(t,"form")?mc(Ro(t,"form")):"",o=e.vals;let $;if(o===void 0?$=L(t,"mx-vals")?K(t,"mx-vals"):"":$=o,ee(U($)))return n;const r=Yo($),i=[];if(n!==""){const _=u0(n),a=_.length;let u=0;for(;;){const l=u;if(l<a){const f=_[l];Ne(i,f),u=l+1|0;continue}else break}}const s=r.length;let c=0;for(;;){const _=c;if(_<s){const a=r[_];Ne(i,a),c=_+1|0;continue}else break}return i.length===0?"":c0(i)}function gc(t){const e=G(),n=ge(t);for(;;){const o=Bt(n);if(o===-1)break;{const r=o;switch(r){case 34:{I(e,'\\"');break}case 92:{I(e,"\\\\");break}case 10:{I(e,"\\n");break}case 13:{I(e,"\\r");break}case 9:{I(e,"\\t");break}default:O(e,r)}continue}}return e.val}function h0(t){if(t==="")return!1;let e=!1,n=0;for(;;){const o=n;if(o<t.length){t:{const $=St(t,o);let r;if($===-1)break t;if(r=$,r===46){if(e)return!1;e=!0}else if(!(r>=48&&r<=57)){if(o===0&&(r===45||r===43))break t;return!1}break t}n=o+1|0;continue}else break}return!0}function b0(t){const e=G();O(e,123);let n=!0;const o=Zi(t);for(;;){const $=pi(o);if($===void 0)break;{const i=$,s=i._0,c=i._1;n||O(e,44),n=!1,O(e,34),I(e,gc(s)),I(e,'":'),c==="true"||c==="false"||c==="null"||h0(c)?I(e,c):(O(e,34),I(e,gc(c)),O(e,34));continue}}return O(e,125),e.val}function p0(t,e){const n=Yo(t),$=vo({buf:[],start:0,end:0}),r=n.length;let i=0;for(;;){const a=i;if(a<r){const u=n[a],l=u._0,f=u._1;vn($,l,f),i=a+1|0;continue}else break}const s=Yo(e),c=s.length;let _=0;for(;;){const a=_;if(a<c){const u=s[a],l=u._0,f=u._1;vn($,l,f),_=a+1|0;continue}else break}return $.size===0?"{}":b0($)}function g0(){const t=gp();vp(t);const e=Tp(),n=nc(),o=ap(),$=_d({start:0,end:0});return{delegator:t,request_manager:e,cache:n,timing:o,changed_values:$,initialized:!1,observer:Rl,observer_callback_id:0,live_ws_id:0,live_ws_url:"",live_last_seq:0,live_last_acked:0,live_reconnect_attempt:0,live_reconnect_timer_id:0,live_heartbeat_interval_id:0,live_heartbeat_timeout_id:0,live_queue:[],live_queue_limit:64,live_resync_url:"",live_resync_in_flight:!1}}function Zo(t){const e=gd(Le.callbacks,t);if(e!==void 0){e();return}}function Ee(t){const e=Io(t),o=`${To(t)}#${e}`;let $=0;const r=ge(o);for(;;){const i=Bt(r);if(i===-1)break;{const c=i;$=(Math.imul($,31)|0)+c|0;continue}}return $}function k0(t,e){const n=e.http_method;let o;switch(n){case 0:{o="GET";break}case 1:{o="POST";break}case 2:{o="PUT";break}case 3:{o="PATCH";break}default:o="DELETE"}let $={http_method:o,headers:vo({buf:nf,start:0,end:1}),body:void 0,signal:Al};t:{e:{switch(e.http_method){case 1:break e;case 2:break e;case 3:break e;default:{const s=e.vals;let c;if(s===void 0?c=L(t,"mx-vals")?K(t,"mx-vals"):"":c=s,!ee(U(c))){const _=p0("{}",c);$=Uo($,"HX-Trigger-Values",_)}}}break t}const r=pc(t,e);if(r!==""){const i=$;$={http_method:i.http_method,headers:i.headers,body:r,signal:i.signal},$=Uo($,"Content-Type","application/x-www-form-urlencoded")}}return L(t,"id")&&($=Uo($,"HX-Trigger",Io(t))),$}function w0(t,e){const n=e.url;if(e.http_method===0){const $=pc(t,e);return $===""?n:Xf(n,{str:Wr,start:0,end:Wr.length})?`${n}&${$}`:`${n}?${$}`}else return n}function v0(t,e){const n=e.sync;return n===void 0?L(t,"mx-sync")?Ys(K(t,"mx-sync")):Fn:n}function kc(t,e){if(!L(t,"mx-push-url"))return;const n=q(U(K(t,"mx-push-url")));if(n==="false")return;const o=n===""||n==="true"?e:n,$=et();qb($,o,"")}function y0(t,e){return L(t,"mx-swap")?cp(K(t,"mx-swap")):Qs(e.swap)}function wc(t,e){const n=Ee(e),o=Se(t.cache,n);if(xp(t.cache,o))return;let $,r;t:{e:{const i=ec(e);if(i.$tag===1)$=i._0;else{r=i._0;break e}break t}rt(new Un(r));return}oc(t.cache,o,$)}function ue(t,e){tc(e)&&wc(t,e);const n=Lo(e);let o=0;for(;;){const $=o;if($<n){const r=On(e,$);xe(r)||ue(t,r),o=$+1|0;continue}else return}}function vc(t,e,n,o,$){cc(n.url,n.options,r=>{x0(t,e,n,o,$,r)},r=>{Ds(e,"mx-request");const i=n.url;rt(new ht(i,r)),yc(t,e,n,o,$)})}function yc(t,e,n,o,$){const r=Ee(e),i=Se(t.cache,r),s=Pp(t.request_manager,i,n.id);if(s!==void 0){vc(t,e,s,o,$);return}}function x0(t,e,n,o,$,r){if(Ds(e,"mx-request"),sc(r)){const i=s0(e,$,o),s=y0(e,o);Qp(i,r.body,s),ue(t,i)}else{const i=`${mt(rc(r),10)} ${ic(r)}`,s=n.url;rt(new ht(s,i))}yc(t,e,n,o,$)}function S0(t,e,n,o){const $=L(t,"mx-key")?new so(K(t,"mx-key")):L(t,"id")?new io(Io(t)):void 0,i=Mt({buf:[],start:0,end:0}),s=e.url;ke(i,"url",new J(s));const c=o.http_method;ke(i,"method",new J(c));const _=o.body;if(_===void 0)ke(i,"body",tn);else{const u=_;ke(i,"body",new J(u))}return Ko(new kr(n.event_name,$,new ut(i)))}function M0(t,e){const n=q(U(t));if(n==="")return e;let o;t:{e:{const $=ys({str:n,start:0,end:n.length});if($.$tag===1)o=$._0;else{$._0;break e}break t}return e}return o>0?o:e}function C0(t){return L(t,"mx-live-queue")?M0(K(t,"mx-live-queue"),64):64}function E0(t){return L(t,"mx-live-resync")?K(t,"mx-live-resync"):""}function In(t,e,n){const o=q(H(t,e,void 0)),$=dn(o,{str:Kr,start:0,end:Kr.length});if($===void 0)return`${n}${o}`;{const s=q(H(o,0,$));return`${n}${s}`}}function A0(){const t=Do(et());return at(t,{str:Xr,start:0,end:Xr.length})?`${In(t,8,"wss://")}/mx-live`:at(t,{str:Qr,start:0,end:Qr.length})?`${In(t,7,"ws://")}/mx-live`:at(t,{str:Gr,start:0,end:Gr.length})?`${In(t,6,"wss://")}/mx-live`:at(t,{str:Yr,start:0,end:Yr.length})?`${In(t,5,"ws://")}/mx-live`:""}function j0(t){return L(t,"mx-live-url")?K(t,"mx-live-url"):A0()}function xc(t,e){return t.live_queue_limit<=0&&(t.live_queue_limit=1),t.live_queue.length>=t.live_queue_limit?!1:(hn(t.live_queue,e),!0)}function t$(t){if(t.live_heartbeat_interval_id>0&&(Ob(et(),t.live_heartbeat_interval_id),t.live_heartbeat_interval_id=0),t.live_heartbeat_timeout_id>0){We(et(),t.live_heartbeat_timeout_id),t.live_heartbeat_timeout_id=0;return}else return}function q0(t,e){let n;t.live_ws_url===""?n="live":n=t.live_ws_url;const $=`websocket error: ${e}`;rt(new ht(n,$))}function Ge(t,e){const n=At(),o=Tn(n);n0(o,e),ue(t,o)}function R0(t,e){const n=ee(U(t.live_resync_url))?Do(et()):t.live_resync_url,r={http_method:"GET",headers:vo({buf:[Gl,{_0:"HX-Live-Resync",_1:e}],start:0,end:2}),body:void 0};cc(n,r,i=>{if(t.live_resync_in_flight=!1,sc(i)){const s=Tn(At());Js(s,i.body),ue(t,s),t.live_last_seq=0;return}else{const c=`resync failed: ${`${mt(rc(i),10)} ${ic(i)}`}`;rt(new ht(n,c));return}},i=>{t.live_resync_in_flight=!1;const s=`resync failed: ${i}`;rt(new ht(n,s))})}function Sc(t,e){if(!t.live_resync_in_flight){if(t.live_resync_in_flight=!0,t.live_ws_id>0&&Ce(t.live_ws_id)){const n="resync",o=[{_0:"type",_1:new J(n)},{_0:"reason",_1:new J(e)}],$=Mt({buf:o,start:0,end:2}),r=Rn(new ut($));Me(t.live_ws_id,r)}R0(t,e)}}function O0(t,e){let n,o;t:{e:{const $=qo({str:e,start:0,end:e.length},1024);let r;if($.$tag===1)r=$._0;else{o=$._0;break e}n=new lt(r);break t}n=new fe(o)}if(n.$tag===1){const r=n._0;if(r.$tag===6){const s=r._0;let c;t:{e:{const _=Ct(s,"type");if(_===void 0)break e;{const u=_;if(u.$tag===4)c=u._0;else break e}break t}return!1}if(c==="heartbeat")return!0;if(c==="resync_required"){const _=Ct(s,"reason");let a;if(_===void 0)a="server requested resync";else{const p=_;p.$tag===4?a=p._0:a="server requested resync"}const u=Ct(s,"expected_seq");let l;if(u===void 0)l="unknown";else{const p=u;if(p.$tag===3){const w=p._0;l=mt(yo(w),10)}else l="unknown"}const f="live",h=`${a} (server expected_seq=${l})`;return rt(new ht(f,h)),Sc(t,a),!0}else return!1}else return!1}else return!1}function Mc(t,e){if(t.live_ws_id<=0||!Ce(t.live_ws_id))return;t.live_last_acked=e;const n="ack",o={_0:"type",_1:new J(n)},$=e+0,r=void 0,i=[o,{_0:"seq",_1:new zn($,r)}],s=Mt({buf:i,start:0,end:2}),c=Rn(new ut(s));Me(t.live_ws_id,c)}function Cc(t,e,n,o){if(n===void 0){Ge(t,e);return}else{const r=n;if(o){t.live_last_seq=r,Ge(t,e),Mc(t,r);return}const i=t.live_last_seq+1|0;if(r!==i){const s=`sequence gap expected ${mt(i,10)} got ${mt(r,10)}`,c="live";rt(new ht(c,s)),Sc(t,s);return}t.live_last_seq=r,Ge(t,e),Mc(t,r);return}}function T0(t,e){switch(e.$tag){case 0:{const n=e;n._0,n._1;return}case 1:{const o=e._0;Ge(t,o);return}case 2:{const n=e;n._0,n._1;return}case 3:{const n=e,o=n._0,$=n._1,r="live",i=`${o}: ${$}`;rt(new ht(r,i));return}default:return}}function I0(t){const e=Do(et());return Ko(new gr(mt(t.live_last_seq,10),e))}function L0(t){if(t.live_reconnect_timer_id>0){We(et(),t.live_reconnect_timer_id),t.live_reconnect_timer_id=0;return}else return}function Ec(t,e){t.live_ws_url=e,t.live_ws_id>0&&(Vo(t.live_ws_id),t.live_ws_id=0),t.live_ws_url=e,t.live_ws_id=Mp(e,()=>{D0(t)},n=>{z0(t,n)},n=>{q0(t,n)},(n,o)=>{P0(t,n,o)})}function P0(t,e,n){if(t$(t),t.live_ws_id=0,e!==1e3){let o;t.live_ws_url===""?o="live":o=t.live_ws_url;const r=`websocket closed: code=${mt(e,10)} reason=${n}`;rt(new ht(o,r)),Ln(t);return}else return}function Ln(t){if(t.live_ws_url===""||t.live_reconnect_timer_id>0)return;const n=t.live_reconnect_attempt>6?6:t.live_reconnect_attempt;let o=500,$=0;for(;;){const r=$;if(r<n){o=Math.imul(o,2)|0,$=r+1|0;continue}else break}o>3e4&&(o=3e4),t.live_reconnect_timer_id=He(et(),()=>{t.live_reconnect_timer_id=0,t.live_reconnect_attempt=t.live_reconnect_attempt+1|0,Ec(t,t.live_ws_url)},o)}function z0(t,e){Ac(t);let n,o;t:{e:{const $=Xp(e);let r;if($.$tag===1)r=$._0;else{o=$._0;break e}n=new Xt(r);break t}n=new co(o)}if(n.$tag===1){const r=n._0;if(r.$tag===1){const s=r._0,c=lc(e);if(c.$tag===1){const a=c._0;Cc(t,a.ops,a.seq,a.full);return}else{Ge(t,s);return}}else{T0(t,r);return}}else{if(O0(t,e))return;{const $=lc(e);if($.$tag===1){const i=$._0;Cc(t,i.ops,i.seq,i.full);return}else return}}}function Ac(t){t.live_heartbeat_timeout_id>0&&(We(et(),t.live_heartbeat_timeout_id),t.live_heartbeat_timeout_id=0),t.live_heartbeat_timeout_id=He(et(),()=>{if(t.live_heartbeat_timeout_id=0,t.live_ws_id>0){Vo(t.live_ws_id),t.live_ws_id=0,Ln(t);return}else return},6e4)}function D0(t){if(t.live_ws_id<=0)return;t.live_reconnect_attempt=0,L0(t),N0(t);const e=I0(t);Me(t.live_ws_id,e),F0(t)}function F0(t){if(t.live_ws_id<=0||!Ce(t.live_ws_id)||t.live_queue.length===0)return;const n=t.live_queue;t.live_queue=[];const o=n.length;let $=0;for(;;)if($<o){const r=ln(n,$);if(Me(t.live_ws_id,r)){$=$+1|0;continue}let s=$;for(;;){const c=s;if(c<o){xc(t,ln(n,c)),s=c+1|0;continue}else break}Ln(t);break}else return}function N0(t){t$(t),t.live_heartbeat_interval_id=Rb(et(),()=>{if(t.live_ws_id>0&&Ce(t.live_ws_id)){Me(t.live_ws_id,Ko(Ol));return}else return},2e4),Ac(t)}function B0(t,e){let n;return t.live_ws_id>0?n=t.live_ws_url!==e:n=!1,n&&(t$(t),Vo(t.live_ws_id),t.live_ws_id=0),t.live_ws_id>0&&Ce(t.live_ws_id)?!0:(t.live_ws_id<=0&&Ec(t,e),Ce(t.live_ws_id))}function V0(t,e,n,o,$){if(!L(e,"mx-live"))return!1;const r=j0(e);if(r==="")return!1;t.live_queue_limit=C0(e),t.live_resync_url=E0(e);const i=S0(e,n,o,$);if(B0(t,r)&&Me(t.live_ws_id,i))return!0;if(xc(t,i))return Ln(t),!0;const s="live queue overflow; fallback to HTTP";return rt(new ht(r,s)),!1}function jc(t,e,n,o,$){Vb(o)&&bb($);const r=w0(e,n);if(r==="")return;const i=k0(e,n);if(V0(t,e,n,o,i)){kc(e,r);return}const s=v0(e,n),c=Ee(e),_=Se(t.cache,c),a=Lp(t.request_manager,_,r,i,s);switch(a.$tag){case 0:{const l=a._0;yb(e,"mx-request"),kc(e,r),vc(t,e,l,n,o);return}case 1:return;default:return}}function U0(t,e,n){const o=Ee(e),$=Se(t.cache,o),r=(Math.imul($,1e5)|0)+n|0,i=Mb(e),s=vd(t.changed_values,r);return s===void 0?(Ki(t.changed_values,r,i),!0):s===i?!1:(Ki(t.changed_values,r,i),!0)}function qc(t,e,n){if(!t.delegator.active)return;const $=mb(e),r={val:n};for(;;){if(xe(r.val))return;if(tc(r.val)){const i=Ee(r.val),s=Se(t.cache,i),c=yp(t.cache,s);let _;if(c===void 0){let a,u;t:{e:{const l=ec(r.val);if(l.$tag===1)a=l._0;else{u=l._0;break e}break t}rt(new Un(u)),a=void 0}if(a===void 0)_=void 0;else{const f=a;oc(t.cache,s,f),_=f}}else _=c;if(_!==void 0){const u=_,l=u.triggers,f=l.length;let h=0;for(;;){const d=h;if(d<f){t:{const p=l[d];if(p.event_name===$&&pp(p,e)){if(Lb(p)&&!U0(t,r.val,d))break t;const m=up(t.timing,s,d);if(hp(m,p,()=>{jc(t,r.val,u,p,e)})&&jc(t,r.val,u,p,e),Ib(p)&&$c(t.cache,s),Bb(p)){pb(e);break}}break t}h=d+1|0;continue}else break}}}if(!Us(r.val)||(r.val=Vs(r.val),gb(e)))break}}function J0(t,e){qc(Pt,t,e)}function H0(){const t=At(),e=an.length;let n=0;for(;;){const o=n;if(o<e){const $=an[o];jb(t,$,r=>{if(hb(r)){const i=db(r);if(xe(i))return;J0(r,i);return}else return}),n=o+1|0;continue}else return}}function W0(t,e){switch(tb(e)){case"childList":{const o=nb(e);let $=0;for(;;){const r=$;if(r<o){const i=ob(e,r);if(Ps(i)){const s=zs(i);ue(t,s)}$=r+1|0;continue}else return}}case"attributes":if(rb(e)){const o=$b(e);if(at(o,{str:Zr,start:0,end:Zr.length})){const $=eb(e);if(Ps($)){const r=zs($),i=Ee(r),s=Se(t.cache,i);$c(t.cache,s),wc(t,r);return}else return}else return}else return;default:return}}function K0(t){const e=Pt.observer;if(e.$tag===1){const o=e._0;if(Pt.observer_callback_id!==t)return;const $=Gh(o);let r=0;for(;;){const i=r;if(i<$){const s=Yh(o,i);W0(Pt,s),r=i+1|0;continue}else break}Zh(o);return}else return}function X0(){const t=Le.next_id;return Le.next_id=Le.next_id+1|0,td(Le.callbacks,t,()=>{K0(t)}),t}function Q0(t,e){const n=X0();t.observer_callback_id=n,n<0&&Zo(n);const o=Xh(n);Qh(o,e,!0,!0,!0),t.observer=new pr(o)}function G0(t){if(t.initialized)return;t.initialized=!0;const e=At(),n=Tn(e);ue(t,n),wp(t.delegator,!0),Q0(t,n),H0()}function Y0(){G0(Pt)}const Z0=t=>ue(Pt,t),t1=(t,e)=>qc(Pt,t,e),e1=()=>Pt,Rc={on_fetch_success:Ho,on_fetch_error:Wo,on_mutation_observed:Zo};v.initMhxFfi(Rc),globalThis.mhx_callbacks=Rc;const n1=Y0,o1="2026.1.22",$1=Ho,r1=Wo,i1=Zo;it.get_instance=e1,it.handle_event=t1,it.init_mhx=n1,it.on_fetch_error=r1,it.on_fetch_success=$1,it.on_mutation_observed=i1,it.process=Z0,it.version=o1,Object.defineProperty(it,Symbol.toStringTag,{value:"Module"})}));
